{"version":3,"sources":["webpack:///./resources/scripts/components/map.vue?b405","webpack:///resources/scripts/components/map.vue","webpack:///./resources/scripts/components/map.vue","webpack:///./resources/scripts/components/map.vue?5ce5","webpack:///./resources/scripts/components/business-map.vue?767b","webpack:///resources/scripts/components/business-map.vue","webpack:///./resources/scripts/components/business-map.vue","webpack:///./resources/scripts/components/business-map.vue?dd5c","webpack:///./resources/scripts/app.js","webpack:///./resources/scripts/gap-polyfill.js","webpack:///./resources/scripts/people-blocks.js","webpack:///./resources/scripts/components/business-map.vue?92b6","webpack:///./resources/scripts/components/map.vue?89ae","webpack:///./resources/scripts/components/business-map.vue?5bf7","webpack:///./resources/scripts/components/map.vue?5c69"],"names":["name","props","components","LControlAttribution","LIconDefault","LMap","LTileLayer","LMarker","data","showing","filterTab","latLng","postcode","view","groups","search","selected","imagePath","zoom","center","blueIcon","iconUrl","iconRetinaUrl","iconSize","iconAnchor","orangeIcon","url","attribution","watch","this","length","$refs","myMap","mapObject","flyTo","computed","filteredList","group","address","groupsFilteredByType","filter","mounted","methods","getGroupsFilteredByType","neighbourhood_network","scrollTo","slug","behavior","block","inline","convertPostcodeToLatLng","fetch","distanceFromUserLatLng","Math","round","distance","lat1","lat2","lon1","lon2","radlat1","radlat2","theta","radtheta","dist","acos","clearPostcode","_vm","_h","$createElement","_c","_self","staticClass","class","on","$event","_v","ref","attrs","attributionControl","_l","key","refInFor","lat","lng","directives","rawName","value","expression","$$selectedVal","Array","prototype","call","target","options","o","map","_value","multiple","domProps","composing","_e","type","indexOf","_k","keyCode","apply","arguments","link","_s","title","rendered","area_covered","groupsWithAddress","Vue","el","document","e","c","d","polyfillList","ungapful","polyfillNode","element","ecss","getComputedStyle","test","shadowRoot","mode","shadowEcss","onFrameSkip","requestAnimationFrame","polyfillInit","MutationObserver","addedNodes","addedNode","mo","childList","subtree","headings","btn","heading","expanded","___CSS_LOADER_EXPORT___","push","module","id","content","__esModule","default","locals","exports","add"],"mappings":"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","file":"/scripts/app.js","sourcesContent":["import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-23[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-23[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <div class=\"container max-w-5xl my-4\">\n      <button\n        class=\"px-4 mr-2 text-xl leading-loose rounded-full\"\n        :class=\"view == 'map' ? 'bg-blue text-white' : 'bg-sky-light'\"\n        @click=\"view = 'map'\"\n      >\n        Map view\n      </button>\n      <button\n        class=\"px-4 text-xl leading-loose rounded-full\"\n        :class=\"\n          view == 'list' ? 'bg-blue text-white' : 'bg-sky-light hover:bg-sky'\n        \"\n        @click=\"view = 'list'\"\n      >\n        List view\n      </button>\n    </div>\n    <div\n      v-if=\"view == 'map'\"\n      class=\"relative flex flex-col overflow-hidden border-t lg:flex-row\"\n    >\n      <div class=\"relative flex-1 map-container\">\n        <l-map\n          ref=\"myMap\"\n          :zoom=\"zoom\"\n          :center=\"center\"\n          :options=\"{ attributionControl: false }\"\n        >\n          <l-control-attribution position=\"bottomleft\"></l-control-attribution>\n          <l-tile-layer :url=\"url\" :attribution=\"attribution\" />\n          <l-marker\n            :icon=\"group.neighbourhood_network ? orangeIcon : blueIcon\"\n            :ref=\"`${group.slug}-marker`\"\n            v-for=\"group in filteredList\"\n            :key=\"group.slug\"\n            @click=\"scrollTo(group.slug)\"\n            :lat-lng=\"[group.address.lat, group.address.lng]\"\n          >\n          </l-marker>\n        </l-map>\n      </div>\n      <div\n        class=\"top-0 bottom-0 right-0 overflow-y-auto shadow-2xl lg:absolute lg:w-1/3 lg:max-w-sm bg-sky-lightest map-sidebar bg-opacity-90\"\n      >\n        <div class=\"bg-blue-lightest\">\n          <div class=\"flex items-center gap-2 px-3 py-3\">\n            <label for=\"type-selector\">Show:</label>\n            <select class=\"flex-grow\" v-model=\"showing\" id=\"type-selector\">\n              <option value=\"neighbourhood_networks\"\n                >Neighbourhood Networks</option\n              >\n              <option value=\"all\">All groups</option>\n            </select>\n          </div>\n          <div class=\"flex flex-row bg-blue-lightest\">\n            <button\n              @click=\"filterTab = 'name'\"\n              class=\"px-4 py-3\"\n              :class=\"{ 'bg-blue-light text-white': filterTab == 'name' }\"\n            >\n              Filter by name\n            </button>\n            <button\n              @click=\"filterTab = 'postcode'\"\n              class=\"px-4 py-3\"\n              :class=\"{ 'bg-blue-light text-white': filterTab == 'postcode' }\"\n            >\n              Sort by postcode\n            </button>\n          </div>\n          <div\n            v-if=\"filterTab == 'name'\"\n            class=\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"\n          >\n            <input\n              class=\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\"\n              type=\"text\"\n              aria-label=\"Filter results by name\"\n              v-model=\"search\"\n              placeholder=\"Search by name..\"\n            />\n            <button class=\"text-white\" @click=\"search = null\">Clear</button>\n          </div>\n          <div\n            v-if=\"filterTab == 'postcode'\"\n            class=\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"\n          >\n            <input\n              class=\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\"\n              type=\"text\"\n              aria-label=\"Filter results by name\"\n              v-model=\"postcode\"\n              placeholder=\"Enter postcode and press enter\"\n              @keyup.enter=\"convertPostcodeToLatLng\"\n            />\n            <button\n              v-if=\"!latLng\"\n              class=\"text-white\"\n              @click=\"convertPostcodeToLatLng\"\n            >\n              Search\n            </button>\n            <button\n              v-if=\"latLng\"\n              class=\"text-white\"\n              @click=\"latLng = postcode = null\"\n            >\n              Clear\n            </button>\n          </div>\n        </div>\n\n        <a\n          :ref=\"`${group.slug}-sidebar`\"\n          :href=\"group.link\"\n          :key=\"group.slug\"\n          class=\"block px-4 py-6 border-b border-blue-lightest hover:bg-sky-light\"\n          :class=\"{\n            'bg-sky-light ml-0 border-l-8 border-blue': selected == group.slug,\n          }\"\n          v-for=\"group in filteredList\"\n        >\n          <p\n            v-if=\"group.neighbourhood_network\"\n            class=\"inline-block -ml-1 px-2 pt-0.5 mb-1 text-sm font-normal rounded-md bg-orange-light\"\n          >\n            Neighbourhood Network\n          </p>\n          <h3 class=\"text-lg font-bold\" v-html=\"group.title.rendered\"></h3>\n\n          <div\n            class=\"text-sm\"\n            v-if=\"group.area_covered\"\n            v-html=\"group.area_covered\"\n          ></div>\n        </a>\n\n        <div class=\"p-4 rounded\" v-if=\"!filteredList.length\">\n          No groups to show you.\n        </div>\n      </div>\n    </div>\n\n    <!-- List view -->\n    <div v-else class=\"container max-w-5xl my-12\">\n      <div\n        class=\"flex flex-col gap-8 px-8 py-4 mb-6 lg:flex-row bg-blue-lightest\"\n      >\n        <div class=\"flex items-center flex-grow max-w-lg gap-4\">\n          <label for=\"type-selector\">Show:</label>\n          <select class=\"flex-grow\" v-model=\"showing\" id=\"type-selector\">\n            <option value=\"neighbourhood_networks\"\n              >Neighbourhood Networks</option\n            >\n            <option value=\"all\">All groups</option>\n          </select>\n        </div>\n        <div class=\"flex flex-row items-center flex-grow gap-2\">\n          <label for=\"list-search\">Search:</label>\n          <input\n            id=\"list-search\"\n            class=\"w-full max-w-lg px-3 py-3 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\"\n            type=\"text\"\n            v-model=\"search\"\n            placeholder=\"Search by name..\"\n          />\n        </div>\n      </div>\n      <a\n        :ref=\"`${group.slug}-sidebar`\"\n        :href=\"group.link\"\n        :key=\"group.slug\"\n        class=\"block py-8\"\n        v-for=\"group in getGroupsFilteredByType(groups)\"\n      >\n        <h3 class=\"text-xl font-bold\">\n          <span v-html=\"group.title.rendered\"></span>\n          <p\n            v-if=\"group.neighbourhood_network\"\n            class=\"inline-block px-2 pt-0.5 ml-3 text-base font-normal rounded-lg bg-blue-lightest\"\n          >\n            Neighbourhood network\n          </p>\n        </h3>\n\n        <div\n          class=\"text\"\n          v-if=\"group.area_covered\"\n          v-html=\"group.area_covered\"\n        ></div>\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport 'leaflet/dist/leaflet.css';\n\nimport L from 'leaflet';\nimport {\n  LMap,\n  LTileLayer,\n  LMarker,\n  LIconDefault,\n  LControlAttribution,\n} from 'vue2-leaflet';\nimport { latLng } from 'leaflet';\n\nexport default {\n  name: 'groupMap',\n  props: ['type'],\n  components: {\n    LControlAttribution,\n    LIconDefault,\n    LMap,\n    LTileLayer,\n    LMarker,\n  },\n  data() {\n    return {\n      showing: 'neighbourhood_networks',\n      filterTab: 'name',\n      latLng: null,\n      postcode: null,\n      view: 'map',\n      groups: [],\n      search: null,\n      selected: null,\n      imagePath: null,\n      zoom: 12,\n      center: latLng(53.7993475, -1.5032696),\n      blueIcon: L.icon({\n        iconUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon.png`,\n        iconRetinaUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon-2x.png`,\n        iconSize: [25, 41],\n        iconAnchor: [13, 41],\n      }),\n      orangeIcon: L.icon({\n        iconUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon-orange.png`,\n        iconRetinaUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon-orange-2x.png`,\n        iconSize: [25, 41],\n        iconAnchor: [13, 41],\n      }),\n      url:\n        'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png',\n      attribution:\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\n    };\n  },\n  watch: {\n    latLng: function() {\n      if (this.latLng && this.latLng.length) {\n        this.$refs.myMap.mapObject.flyTo(\n          latLng(this.latLng[0], this.latLng[1]),\n          14\n        );\n      } else {\n        this.$refs.myMap.mapObject.flyTo(this.center, this.zoom);\n      }\n      // zoom/pan map.\n      // if null, reset map zoom/pan\n    },\n  },\n  computed: {\n    filteredList() {\n      if (!this.groups) {\n        return null;\n      }\n\n      let groupsWithAddress = this.groups.filter(group => {\n        return group.address;\n      });\n\n      let groupsFilteredByType = this.getGroupsFilteredByType(\n        groupsWithAddress\n      );\n\n      if (this.filterTab == 'name' && this.search) {\n        return groupsFilteredByType.filter(group => {\n          return (\n            group.title.rendered\n              .toLowerCase()\n              .includes(this.search.toLowerCase()) ||\n            group.address.address\n              .toLowerCase()\n              .includes(this.search.toLowerCase())\n          );\n        });\n      } else if (this.filterTab == 'postcode' && this.postcode) {\n        return groupsFilteredByType\n          .map(entry => {\n            if (entry.latitude && entry.longitude) {\n              entry.distance = this.distanceFromUserLatLng(entry);\n            } else {\n              entry.distance == null;\n            }\n            return entry;\n          })\n          .sort((a, b) => {\n            return a.distance - b.distance;\n          });\n      } else {\n        return groupsFilteredByType;\n      }\n    },\n  },\n  mounted() {\n    this.imagePath = `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/`;\n    let groups = fetch(\n      `/wp-json/wp/v2/${this.type}?orderby=title&per_page=100&order=asc`\n    )\n      .then(response => response.json())\n      .then(data => (this.groups = data));\n  },\n  methods: {\n    getGroupsFilteredByType(groups) {\n      if (!groups && !this.groups) return null;\n\n      return groups.filter(group => {\n        if (this.showing == 'neighbourhood_networks') {\n          return group.neighbourhood_network;\n        } else {\n          return true;\n        }\n      });\n    },\n    scrollTo(slug) {\n      this.selected = slug;\n      this.$refs[`${slug}-sidebar`][0].scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n        inline: 'nearest',\n      });\n    },\n    convertPostcodeToLatLng: function() {\n      fetch(`//api.postcodes.io/postcodes/${this.postcode.split(' ').join('')}`)\n        .then(response => response.json())\n        .then(data => {\n          if (data.status == 200) {\n            this.latLng = [data.result.latitude, data.result.longitude];\n            this.error = null;\n            this.postcode = this.postcode.toUpperCase();\n          } else {\n            this.error = data.error;\n          }\n        });\n    },\n    distanceFromUserLatLng: function(entry) {\n      let distance = this.distance(\n        entry.address.lat,\n        entry.address.lng,\n        this.latLng[0],\n        this.latLng[1]\n      );\n      return Math.round(distance * 10) / 10;\n    },\n    distance(lat1, lon1, lat2, lon2) {\n      if (lat1 == lat2 && lon1 == lon2) {\n        return 0;\n      } else {\n        var radlat1 = (Math.PI * lat1) / 180;\n        var radlat2 = (Math.PI * lat2) / 180;\n        var theta = lon1 - lon2;\n        var radtheta = (Math.PI * theta) / 180;\n        var dist =\n          Math.sin(radlat1) * Math.sin(radlat2) +\n          Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n        if (dist > 1) {\n          dist = 1;\n        }\n        dist = Math.acos(dist);\n        dist = (dist * 180) / Math.PI;\n        dist = dist * 60 * 1.1515;\n        // dist = dist * 1.609344;\n        return dist;\n      }\n    },\n    clearPostcode: function() {\n      this.latLng = [];\n      this.postcode = null;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.map-container {\n  padding-top: 56.25%;\n  @media (orientation: portrait) {\n    padding-top: 50vw;\n  }\n}\n\n.map-sidebar {\n  z-index: 999;\n}\n\n.vue2leaflet-map {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n</style>\n","import { render, staticRenderFns } from \"./map.vue?vue&type=template&id=2b4f9acc&scoped=true&\"\nimport script from \"./map.vue?vue&type=script&lang=js&\"\nexport * from \"./map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./map.vue?vue&type=style&index=0&id=2b4f9acc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b4f9acc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container max-w-5xl my-4\"},[_c('button',{staticClass:\"px-4 mr-2 text-xl leading-loose rounded-full\",class:_vm.view == 'map' ? 'bg-blue text-white' : 'bg-sky-light',on:{\"click\":function($event){_vm.view = 'map'}}},[_vm._v(\"\\n      Map view\\n    \")]),_vm._v(\" \"),_c('button',{staticClass:\"px-4 text-xl leading-loose rounded-full\",class:_vm.view == 'list' ? 'bg-blue text-white' : 'bg-sky-light hover:bg-sky',on:{\"click\":function($event){_vm.view = 'list'}}},[_vm._v(\"\\n      List view\\n    \")])]),_vm._v(\" \"),(_vm.view == 'map')?_c('div',{staticClass:\"relative flex flex-col overflow-hidden border-t lg:flex-row\"},[_c('div',{staticClass:\"relative flex-1 map-container\"},[_c('l-map',{ref:\"myMap\",attrs:{\"zoom\":_vm.zoom,\"center\":_vm.center,\"options\":{ attributionControl: false }}},[_c('l-control-attribution',{attrs:{\"position\":\"bottomleft\"}}),_vm._v(\" \"),_c('l-tile-layer',{attrs:{\"url\":_vm.url,\"attribution\":_vm.attribution}}),_vm._v(\" \"),_vm._l((_vm.filteredList),function(group){return _c('l-marker',{key:group.slug,ref:((group.slug) + \"-marker\"),refInFor:true,attrs:{\"icon\":group.neighbourhood_network ? _vm.orangeIcon : _vm.blueIcon,\"lat-lng\":[group.address.lat, group.address.lng]},on:{\"click\":function($event){return _vm.scrollTo(group.slug)}}})})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"top-0 bottom-0 right-0 overflow-y-auto shadow-2xl lg:absolute lg:w-1/3 lg:max-w-sm bg-sky-lightest map-sidebar bg-opacity-90\"},[_c('div',{staticClass:\"bg-blue-lightest\"},[_c('div',{staticClass:\"flex items-center gap-2 px-3 py-3\"},[_c('label',{attrs:{\"for\":\"type-selector\"}},[_vm._v(\"Show:\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showing),expression:\"showing\"}],staticClass:\"flex-grow\",attrs:{\"id\":\"type-selector\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.showing=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"neighbourhood_networks\"}},[_vm._v(\"Neighbourhood Networks\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"all\"}},[_vm._v(\"All groups\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row bg-blue-lightest\"},[_c('button',{staticClass:\"px-4 py-3\",class:{ 'bg-blue-light text-white': _vm.filterTab == 'name' },on:{\"click\":function($event){_vm.filterTab = 'name'}}},[_vm._v(\"\\n            Filter by name\\n          \")]),_vm._v(\" \"),_c('button',{staticClass:\"px-4 py-3\",class:{ 'bg-blue-light text-white': _vm.filterTab == 'postcode' },on:{\"click\":function($event){_vm.filterTab = 'postcode'}}},[_vm._v(\"\\n            Sort by postcode\\n          \")])]),_vm._v(\" \"),(_vm.filterTab == 'name')?_c('div',{staticClass:\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\",attrs:{\"type\":\"text\",\"aria-label\":\"Filter results by name\",\"placeholder\":\"Search by name..\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"text-white\",on:{\"click\":function($event){_vm.search = null}}},[_vm._v(\"Clear\")])]):_vm._e(),_vm._v(\" \"),(_vm.filterTab == 'postcode')?_c('div',{staticClass:\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.postcode),expression:\"postcode\"}],staticClass:\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\",attrs:{\"type\":\"text\",\"aria-label\":\"Filter results by name\",\"placeholder\":\"Enter postcode and press enter\"},domProps:{\"value\":(_vm.postcode)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.convertPostcodeToLatLng.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.postcode=$event.target.value}}}),_vm._v(\" \"),(!_vm.latLng)?_c('button',{staticClass:\"text-white\",on:{\"click\":_vm.convertPostcodeToLatLng}},[_vm._v(\"\\n            Search\\n          \")]):_vm._e(),_vm._v(\" \"),(_vm.latLng)?_c('button',{staticClass:\"text-white\",on:{\"click\":function($event){_vm.latLng = _vm.postcode = null}}},[_vm._v(\"\\n            Clear\\n          \")]):_vm._e()]):_vm._e()]),_vm._v(\" \"),_vm._l((_vm.filteredList),function(group){return _c('a',{key:group.slug,ref:((group.slug) + \"-sidebar\"),refInFor:true,staticClass:\"block px-4 py-6 border-b border-blue-lightest hover:bg-sky-light\",class:{\n          'bg-sky-light ml-0 border-l-8 border-blue': _vm.selected == group.slug,\n        },attrs:{\"href\":group.link}},[(group.neighbourhood_network)?_c('p',{staticClass:\"inline-block -ml-1 px-2 pt-0.5 mb-1 text-sm font-normal rounded-md bg-orange-light\"},[_vm._v(\"\\n          Neighbourhood Network\\n        \")]):_vm._e(),_vm._v(\" \"),_c('h3',{staticClass:\"text-lg font-bold\",domProps:{\"innerHTML\":_vm._s(group.title.rendered)}}),_vm._v(\" \"),(group.area_covered)?_c('div',{staticClass:\"text-sm\",domProps:{\"innerHTML\":_vm._s(group.area_covered)}}):_vm._e()])}),_vm._v(\" \"),(!_vm.filteredList.length)?_c('div',{staticClass:\"p-4 rounded\"},[_vm._v(\"\\n        No groups to show you.\\n      \")]):_vm._e()],2)]):_c('div',{staticClass:\"container max-w-5xl my-12\"},[_c('div',{staticClass:\"flex flex-col gap-8 px-8 py-4 mb-6 lg:flex-row bg-blue-lightest\"},[_c('div',{staticClass:\"flex items-center flex-grow max-w-lg gap-4\"},[_c('label',{attrs:{\"for\":\"type-selector\"}},[_vm._v(\"Show:\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showing),expression:\"showing\"}],staticClass:\"flex-grow\",attrs:{\"id\":\"type-selector\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.showing=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"neighbourhood_networks\"}},[_vm._v(\"Neighbourhood Networks\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"all\"}},[_vm._v(\"All groups\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row items-center flex-grow gap-2\"},[_c('label',{attrs:{\"for\":\"list-search\"}},[_vm._v(\"Search:\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"w-full max-w-lg px-3 py-3 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\",attrs:{\"id\":\"list-search\",\"type\":\"text\",\"placeholder\":\"Search by name..\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}})])]),_vm._v(\" \"),_vm._l((_vm.getGroupsFilteredByType(_vm.groups)),function(group){return _c('a',{key:group.slug,ref:((group.slug) + \"-sidebar\"),refInFor:true,staticClass:\"block py-8\",attrs:{\"href\":group.link}},[_c('h3',{staticClass:\"text-xl font-bold\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(group.title.rendered)}}),_vm._v(\" \"),(group.neighbourhood_network)?_c('p',{staticClass:\"inline-block px-2 pt-0.5 ml-3 text-base font-normal rounded-lg bg-blue-lightest\"},[_vm._v(\"\\n          Neighbourhood network\\n        \")]):_vm._e()]),_vm._v(\" \"),(group.area_covered)?_c('div',{staticClass:\"text\",domProps:{\"innerHTML\":_vm._s(group.area_covered)}}):_vm._e()])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-23[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./business-map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-23[0].rules[0].use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./business-map.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <div class=\"container max-w-5xl my-4\">\n      <button\n        class=\"px-4 mr-2 text-xl leading-loose rounded-full\"\n        :class=\"view == 'map' ? 'bg-blue text-white' : 'bg-sky-light'\"\n        @click=\"view = 'map'\"\n      >\n        Map view\n      </button>\n      <button\n        class=\"px-4 text-xl leading-loose rounded-full\"\n        :class=\"\n          view == 'list' ? 'bg-blue text-white' : 'bg-sky-light hover:bg-sky'\n        \"\n        @click=\"view = 'list'\"\n      >\n        List view\n      </button>\n    </div>\n    <div\n      v-if=\"view == 'map'\"\n      class=\"relative flex flex-col overflow-hidden border-t lg:flex-row\"\n    >\n      <div class=\"relative flex-1 map-container\">\n        <l-map\n          ref=\"myMap\"\n          :zoom=\"zoom\"\n          :center=\"center\"\n          :options=\"{ attributionControl: false }\"\n        >\n          <l-control-attribution position=\"bottomleft\"></l-control-attribution>\n          <l-tile-layer :url=\"url\" :attribution=\"attribution\" />\n          <l-marker\n            :icon=\"group.neighbourhood_network ? orangeIcon : blueIcon\"\n            :ref=\"`${group.slug}-marker`\"\n            v-for=\"group in filteredList\"\n            :key=\"group.slug\"\n            @click=\"scrollTo(group.slug)\"\n            :lat-lng=\"[group.address.lat, group.address.lng]\"\n          >\n          </l-marker>\n        </l-map>\n      </div>\n      <div\n        class=\"top-0 bottom-0 right-0 overflow-y-auto shadow-2xl lg:absolute lg:w-1/3 lg:max-w-sm bg-sky-lightest map-sidebar bg-opacity-90\"\n      >\n        <div class=\"bg-blue-lightest\">\n          <div class=\"flex flex-row bg-blue-lightest\">\n            <button\n              @click=\"filterTab = 'name'\"\n              class=\"px-4 py-3\"\n              :class=\"{ 'bg-blue-light text-white': filterTab == 'name' }\"\n            >\n              Filter by name\n            </button>\n            <button\n              @click=\"filterTab = 'postcode'\"\n              class=\"px-4 py-3\"\n              :class=\"{ 'bg-blue-light text-white': filterTab == 'postcode' }\"\n            >\n              Sort by postcode\n            </button>\n          </div>\n          <div\n            v-if=\"filterTab == 'name'\"\n            class=\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"\n          >\n            <input\n              class=\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\"\n              type=\"text\"\n              aria-label=\"Filter results by name\"\n              v-model=\"search\"\n              placeholder=\"Search by name..\"\n            />\n            <button class=\"text-white\" @click=\"search = null\">Clear</button>\n          </div>\n          <div\n            v-if=\"filterTab == 'postcode'\"\n            class=\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"\n          >\n            <input\n              class=\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\"\n              type=\"text\"\n              aria-label=\"Filter results by name\"\n              v-model=\"postcode\"\n              placeholder=\"Enter postcode and press enter\"\n              @keyup.enter=\"convertPostcodeToLatLng\"\n            />\n            <button\n              v-if=\"!latLng\"\n              class=\"text-white\"\n              @click=\"convertPostcodeToLatLng\"\n            >\n              Search\n            </button>\n            <button\n              v-if=\"latLng\"\n              class=\"text-white\"\n              @click=\"latLng = postcode = null\"\n            >\n              Clear\n            </button>\n          </div>\n        </div>\n\n        <a\n          :ref=\"`${group.slug}-sidebar`\"\n          target=\"_blank\"\n          :href=\"group.url\"\n          :key=\"group.slug\"\n          class=\"block px-4 py-6 border-b border-blue-lightest hover:bg-sky-light\"\n          :class=\"{\n            'bg-sky-light ml-0 border-l-8 border-blue': selected == group.slug,\n          }\"\n          v-for=\"group in filteredList\"\n        >\n          <h3 class=\"text-lg font-bold\" v-html=\"group.title.rendered\"></h3>\n          <p class=\"text-sm truncate\">\n            {{ group.address.address }}\n          </p>\n        </a>\n\n        <div class=\"p-4 rounded\" v-if=\"!filteredList.length\">\n          No businesses to show you.\n        </div>\n      </div>\n    </div>\n\n    <!-- List view -->\n    <div v-else class=\"container max-w-5xl my-12\">\n      <div\n        class=\"flex flex-col gap-8 px-8 py-4 mb-6 lg:flex-row bg-blue-lightest\"\n      >\n        <div class=\"flex flex-row items-center flex-grow gap-2\">\n          <label for=\"list-search\">Search:</label>\n          <input\n            id=\"list-search\"\n            class=\"w-full max-w-lg px-3 py-3 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\"\n            type=\"text\"\n            v-model=\"search\"\n            placeholder=\"Search by name..\"\n          />\n        </div>\n      </div>\n      <a\n        target=\"_blank\"\n        :ref=\"`${group.slug}-sidebar`\"\n        :href=\"group.url\"\n        :key=\"group.slug\"\n        class=\"block py-8\"\n        v-for=\"group in filteredList\"\n      >\n        <h3 class=\"text-xl font-bold\">\n          <span v-html=\"group.title.rendered\"></span>\n        </h3>\n        <p class=\"text-sm truncate\">\n          {{ group.address.address }}\n        </p>\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport 'leaflet/dist/leaflet.css';\n\nimport L from 'leaflet';\nimport {\n  LMap,\n  LTileLayer,\n  LMarker,\n  LIconDefault,\n  LControlAttribution,\n} from 'vue2-leaflet';\nimport { latLng } from 'leaflet';\n\nexport default {\n  name: 'groupMap',\n  props: ['type'],\n  components: {\n    LControlAttribution,\n    LIconDefault,\n    LMap,\n    LTileLayer,\n    LMarker,\n  },\n  data() {\n    return {\n      showing: 'neighbourhood_networks',\n      filterTab: 'name',\n      latLng: null,\n      postcode: null,\n      view: 'map',\n      groups: [],\n      search: null,\n      selected: null,\n      imagePath: null,\n      zoom: 12,\n      center: latLng(53.7993475, -1.5032696),\n      blueIcon: L.icon({\n        iconUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon.png`,\n        iconRetinaUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon-2x.png`,\n        iconSize: [25, 41],\n        iconAnchor: [13, 41],\n      }),\n      orangeIcon: L.icon({\n        iconUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon-orange.png`,\n        iconRetinaUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon-orange-2x.png`,\n        iconSize: [25, 41],\n        iconAnchor: [13, 41],\n      }),\n      url:\n        'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png',\n      attribution:\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\n    };\n  },\n  watch: {\n    latLng: function() {\n      if (this.latLng && this.latLng.length) {\n        this.$refs.myMap.mapObject.flyTo(\n          latLng(this.latLng[0], this.latLng[1]),\n          14\n        );\n      } else {\n        this.$refs.myMap.mapObject.flyTo(this.center, this.zoom);\n      }\n      // zoom/pan map.\n      // if null, reset map zoom/pan\n    },\n  },\n  computed: {\n    filteredList() {\n      if (!this.groups) {\n        return null;\n      }\n\n      let groupsWithAddress = this.groups.filter(group => {\n        return group.address;\n      });\n\n      if (this.filterTab == 'name' && this.search) {\n        return groupsWithAddress.filter(group => {\n          return (\n            group.title.rendered\n              .toLowerCase()\n              .includes(this.search.toLowerCase()) ||\n            group.address.address\n              .toLowerCase()\n              .includes(this.search.toLowerCase())\n          );\n        });\n      } else if (this.filterTab == 'postcode' && this.postcode) {\n        return groupsWithAddress\n          .map(entry => {\n            if (entry.latitude && entry.longitude) {\n              entry.distance = this.distanceFromUserLatLng(entry);\n            } else {\n              entry.distance == null;\n            }\n            return entry;\n          })\n          .sort((a, b) => {\n            return a.distance - b.distance;\n          });\n      } else {\n        return groupsWithAddress;\n      }\n    },\n  },\n  mounted() {\n    this.imagePath = `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/`;\n    let groups = fetch(\n      `/wp-json/wp/v2/${this.type}?orderby=title&per_page=100&order=asc`\n    )\n      .then(response => response.json())\n      .then(data => (this.groups = data));\n  },\n  methods: {\n    scrollTo(slug) {\n      this.selected = slug;\n      this.$refs[`${slug}-sidebar`][0].scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n        inline: 'nearest',\n      });\n    },\n    convertPostcodeToLatLng: function() {\n      fetch(`//api.postcodes.io/postcodes/${this.postcode.split(' ').join('')}`)\n        .then(response => response.json())\n        .then(data => {\n          if (data.status == 200) {\n            this.latLng = [data.result.latitude, data.result.longitude];\n            this.error = null;\n            this.postcode = this.postcode.toUpperCase();\n          } else {\n            this.error = data.error;\n          }\n        });\n    },\n    distanceFromUserLatLng: function(entry) {\n      let distance = this.distance(\n        entry.address.lat,\n        entry.address.lng,\n        this.latLng[0],\n        this.latLng[1]\n      );\n      return Math.round(distance * 10) / 10;\n    },\n    distance(lat1, lon1, lat2, lon2) {\n      if (lat1 == lat2 && lon1 == lon2) {\n        return 0;\n      } else {\n        var radlat1 = (Math.PI * lat1) / 180;\n        var radlat2 = (Math.PI * lat2) / 180;\n        var theta = lon1 - lon2;\n        var radtheta = (Math.PI * theta) / 180;\n        var dist =\n          Math.sin(radlat1) * Math.sin(radlat2) +\n          Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n        if (dist > 1) {\n          dist = 1;\n        }\n        dist = Math.acos(dist);\n        dist = (dist * 180) / Math.PI;\n        dist = dist * 60 * 1.1515;\n        // dist = dist * 1.609344;\n        return dist;\n      }\n    },\n    clearPostcode: function() {\n      this.latLng = [];\n      this.postcode = null;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.map-container {\n  padding-top: 56.25%;\n  @media (orientation: portrait) {\n    padding-top: 50vw;\n  }\n}\n\n.map-sidebar {\n  z-index: 999;\n}\n\n.vue2leaflet-map {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n</style>\n","import { render, staticRenderFns } from \"./business-map.vue?vue&type=template&id=d8cdda40&scoped=true&\"\nimport script from \"./business-map.vue?vue&type=script&lang=js&\"\nexport * from \"./business-map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./business-map.vue?vue&type=style&index=0&id=d8cdda40&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d8cdda40\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container max-w-5xl my-4\"},[_c('button',{staticClass:\"px-4 mr-2 text-xl leading-loose rounded-full\",class:_vm.view == 'map' ? 'bg-blue text-white' : 'bg-sky-light',on:{\"click\":function($event){_vm.view = 'map'}}},[_vm._v(\"\\n      Map view\\n    \")]),_vm._v(\" \"),_c('button',{staticClass:\"px-4 text-xl leading-loose rounded-full\",class:_vm.view == 'list' ? 'bg-blue text-white' : 'bg-sky-light hover:bg-sky',on:{\"click\":function($event){_vm.view = 'list'}}},[_vm._v(\"\\n      List view\\n    \")])]),_vm._v(\" \"),(_vm.view == 'map')?_c('div',{staticClass:\"relative flex flex-col overflow-hidden border-t lg:flex-row\"},[_c('div',{staticClass:\"relative flex-1 map-container\"},[_c('l-map',{ref:\"myMap\",attrs:{\"zoom\":_vm.zoom,\"center\":_vm.center,\"options\":{ attributionControl: false }}},[_c('l-control-attribution',{attrs:{\"position\":\"bottomleft\"}}),_vm._v(\" \"),_c('l-tile-layer',{attrs:{\"url\":_vm.url,\"attribution\":_vm.attribution}}),_vm._v(\" \"),_vm._l((_vm.filteredList),function(group){return _c('l-marker',{key:group.slug,ref:((group.slug) + \"-marker\"),refInFor:true,attrs:{\"icon\":group.neighbourhood_network ? _vm.orangeIcon : _vm.blueIcon,\"lat-lng\":[group.address.lat, group.address.lng]},on:{\"click\":function($event){return _vm.scrollTo(group.slug)}}})})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"top-0 bottom-0 right-0 overflow-y-auto shadow-2xl lg:absolute lg:w-1/3 lg:max-w-sm bg-sky-lightest map-sidebar bg-opacity-90\"},[_c('div',{staticClass:\"bg-blue-lightest\"},[_c('div',{staticClass:\"flex flex-row bg-blue-lightest\"},[_c('button',{staticClass:\"px-4 py-3\",class:{ 'bg-blue-light text-white': _vm.filterTab == 'name' },on:{\"click\":function($event){_vm.filterTab = 'name'}}},[_vm._v(\"\\n            Filter by name\\n          \")]),_vm._v(\" \"),_c('button',{staticClass:\"px-4 py-3\",class:{ 'bg-blue-light text-white': _vm.filterTab == 'postcode' },on:{\"click\":function($event){_vm.filterTab = 'postcode'}}},[_vm._v(\"\\n            Sort by postcode\\n          \")])]),_vm._v(\" \"),(_vm.filterTab == 'name')?_c('div',{staticClass:\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\",attrs:{\"type\":\"text\",\"aria-label\":\"Filter results by name\",\"placeholder\":\"Search by name..\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"text-white\",on:{\"click\":function($event){_vm.search = null}}},[_vm._v(\"Clear\")])]):_vm._e(),_vm._v(\" \"),(_vm.filterTab == 'postcode')?_c('div',{staticClass:\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.postcode),expression:\"postcode\"}],staticClass:\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\",attrs:{\"type\":\"text\",\"aria-label\":\"Filter results by name\",\"placeholder\":\"Enter postcode and press enter\"},domProps:{\"value\":(_vm.postcode)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.convertPostcodeToLatLng.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.postcode=$event.target.value}}}),_vm._v(\" \"),(!_vm.latLng)?_c('button',{staticClass:\"text-white\",on:{\"click\":_vm.convertPostcodeToLatLng}},[_vm._v(\"\\n            Search\\n          \")]):_vm._e(),_vm._v(\" \"),(_vm.latLng)?_c('button',{staticClass:\"text-white\",on:{\"click\":function($event){_vm.latLng = _vm.postcode = null}}},[_vm._v(\"\\n            Clear\\n          \")]):_vm._e()]):_vm._e()]),_vm._v(\" \"),_vm._l((_vm.filteredList),function(group){return _c('a',{key:group.slug,ref:((group.slug) + \"-sidebar\"),refInFor:true,staticClass:\"block px-4 py-6 border-b border-blue-lightest hover:bg-sky-light\",class:{\n          'bg-sky-light ml-0 border-l-8 border-blue': _vm.selected == group.slug,\n        },attrs:{\"target\":\"_blank\",\"href\":group.url}},[_c('h3',{staticClass:\"text-lg font-bold\",domProps:{\"innerHTML\":_vm._s(group.title.rendered)}}),_vm._v(\" \"),_c('p',{staticClass:\"text-sm truncate\"},[_vm._v(\"\\n          \"+_vm._s(group.address.address)+\"\\n        \")])])}),_vm._v(\" \"),(!_vm.filteredList.length)?_c('div',{staticClass:\"p-4 rounded\"},[_vm._v(\"\\n        No businesses to show you.\\n      \")]):_vm._e()],2)]):_c('div',{staticClass:\"container max-w-5xl my-12\"},[_c('div',{staticClass:\"flex flex-col gap-8 px-8 py-4 mb-6 lg:flex-row bg-blue-lightest\"},[_c('div',{staticClass:\"flex flex-row items-center flex-grow gap-2\"},[_c('label',{attrs:{\"for\":\"list-search\"}},[_vm._v(\"Search:\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"w-full max-w-lg px-3 py-3 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\",attrs:{\"id\":\"list-search\",\"type\":\"text\",\"placeholder\":\"Search by name..\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search=$event.target.value}}})])]),_vm._v(\" \"),_vm._l((_vm.filteredList),function(group){return _c('a',{key:group.slug,ref:((group.slug) + \"-sidebar\"),refInFor:true,staticClass:\"block py-8\",attrs:{\"target\":\"_blank\",\"href\":group.url}},[_c('h3',{staticClass:\"text-xl font-bold\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(group.title.rendered)}})]),_vm._v(\" \"),_c('p',{staticClass:\"text-sm truncate\"},[_vm._v(\"\\n        \"+_vm._s(group.address.address)+\"\\n      \")])])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable no-unused-vars */\n\nimport './gap-polyfill';\nimport './people-blocks';\n\nimport Vue from 'vue';\nimport groupMap from './components/map.vue';\nimport businessMap from './components/business-map.vue';\n\nVue.component('group-map', groupMap);\nVue.component('business-map', businessMap);\n\nvar vm = new Vue({\n  el: '#app',\n});\n\ndocument.getElementById('main-menu-button').addEventListener('click', e => {\n  e.currentTarget.innerText =\n    e.currentTarget.innerText == 'Menu' ? 'Close menu' : 'Menu';\n  document.body.scrollTop = 0;\n  document.body.classList.toggle('overflow-hidden');\n  document.getElementById('main-menu').classList.toggle('left-full');\n  document.getElementById('main-menu').classList.toggle('left-0');\n  document.getElementById('main-menu-container').scrollTop = 0;\n});\n","((\n  d,\n  c = d.createElement('b').style,\n  a = (c.gap = 0),\n  polyfillList = new WeakMap(),\n  ungapful = /^(normal|0px)+$/,\n  polyfillNode = (element) => {\n    if (polyfillList.has(element)) return;\n    polyfillList.set(element, true);\n    if (element.shadowRoot) return;\n    const ecss = getComputedStyle(element);\n    if (\n      /^(inline-)?flex$/.test(ecss.display) &&\n      !ungapful.test(ecss.rowGap + ecss.columnGap)\n    ) {\n      const shadowRoot = element.attachShadow({ mode: 'open' });\n      const shadowEcss = shadowRoot.appendChild(d.createElement('style'));\n      const shadowSlot = shadowRoot.appendChild(d.createElement('slot'));\n      const onFrameSkip = () => {\n        shadowEcss.textContent = `::slotted(*){margin:calc(${ecss.rowGap}/2) calc(${ecss.columnGap}/2)}slot{display:inherit;flex-direction:inherit;flex-wrap:inherit;margin:calc(${ecss.rowGap}/-2) calc(${ecss.columnGap}/-2);}`;\n        requestAnimationFrame(requestAnimationFrame.bind(null, onFrameSkip));\n      };\n      onFrameSkip();\n    }\n  },\n  polyfillInit = () => {\n    Array.from(d.all, polyfillNode);\n    let mo = new MutationObserver((records) => {\n      for (const { addedNodes } of records) {\n        for (const addedNode of addedNodes) {\n          if (addedNode.nodeType === 1) {\n            polyfillNode(addedNode);\n          }\n        }\n      }\n    });\n    mo.observe(d, { childList: true, subtree: true });\n  }\n) => c.gap || polyfillInit())(document);\n","(function () {\n  const headings = document.querySelectorAll(\n    '.wp-block-person .wp-block-columns'\n  );\n\n  Array.prototype.forEach.call(headings, (heading) => {\n    let btn = heading.querySelector('button');\n    let target = heading.nextElementSibling;\n\n    target.hidden = true;\n\n    btn.onclick = () => {\n      let expanded = btn.getAttribute('aria-expanded') === 'true' || false;\n\n      btn.setAttribute('aria-expanded', !expanded);\n      target.hidden = expanded;\n    };\n  });\n})();\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".map-container[data-v-d8cdda40]{padding-top:56.25%}@media (orientation:portrait){.map-container[data-v-d8cdda40]{padding-top:50vw}}.map-sidebar[data-v-d8cdda40]{z-index:999}.vue2leaflet-map[data-v-d8cdda40]{position:absolute;top:0;left:0;right:0;bottom:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./resources/scripts/components/business-map.vue\"],\"names\":[],\"mappings\":\"AAoVA,gCACE,kBAnVF,CAoVE,8BAFF,gCAGI,gBAjVF,CACF,CAoVA,8BACE,WAjVF,CAoVA,kCACE,iBAAA,CACA,KAAA,CACA,MAAA,CACA,OAAA,CACA,QAjVF\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.map-container {\\n  padding-top: 56.25%;\\n  @media (orientation: portrait) {\\n    padding-top: 50vw;\\n  }\\n}\\n\\n.map-sidebar {\\n  z-index: 999;\\n}\\n\\n.vue2leaflet-map {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".map-container[data-v-2b4f9acc]{padding-top:56.25%}@media (orientation:portrait){.map-container[data-v-2b4f9acc]{padding-top:50vw}}.map-sidebar[data-v-2b4f9acc]{z-index:999}.vue2leaflet-map[data-v-2b4f9acc]{position:absolute;top:0;left:0;right:0;bottom:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./resources/scripts/components/map.vue\"],\"names\":[],\"mappings\":\"AAqYA,gCACE,kBApYF,CAqYE,8BAFF,gCAGI,gBAlYF,CACF,CAqYA,8BACE,WAlYF,CAqYA,kCACE,iBAAA,CACA,KAAA,CACA,MAAA,CACA,OAAA,CACA,QAlYF\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.map-container {\\n  padding-top: 56.25%;\\n  @media (orientation: portrait) {\\n    padding-top: 50vw;\\n  }\\n}\\n\\n.map-sidebar {\\n  z-index: 999;\\n}\\n\\n.vue2leaflet-map {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13[0].rules[0].use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13[0].rules[0].use[2]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13[0].rules[0].use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./business-map.vue?vue&type=style&index=0&id=d8cdda40&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"66831b15\", content, true, {});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13[0].rules[0].use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13[0].rules[0].use[2]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13[0].rules[0].use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=style&index=0&id=2b4f9acc&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"20039853\", content, true, {});"],"sourceRoot":""}