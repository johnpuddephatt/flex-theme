{"version":3,"file":"/scripts/app.js","mappings":"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","sources":["webpack:///./resources/scripts/components/map.vue?67a4","webpack:///resources/scripts/components/map.vue","webpack:///./resources/scripts/components/map.vue?22a5","webpack:///./resources/scripts/components/map.vue?251c","webpack:///./resources/scripts/components/map.vue","webpack:///./resources/scripts/components/business-map.vue?f2b7","webpack:///resources/scripts/components/business-map.vue","webpack:///./resources/scripts/components/business-map.vue?732b","webpack:///./resources/scripts/components/business-map.vue?09b7","webpack:///./resources/scripts/components/business-map.vue","webpack:///./resources/scripts/components/localleeds-map.vue?1249","webpack:///resources/scripts/components/localleeds-map.vue","webpack:///./resources/scripts/components/localleeds-map.vue?2b93","webpack:///./resources/scripts/components/localleeds-map.vue?4183","webpack:///./resources/scripts/components/localleeds-map.vue","webpack:///./resources/scripts/app.js","webpack:///./resources/scripts/people-blocks.js","webpack:///./resources/scripts/gap-polyfill.js","webpack:///./resources/scripts/components/business-map.vue?55a3","webpack:///./resources/scripts/components/localleeds-map.vue?d3a8","webpack:///./resources/scripts/components/map.vue?e8cc"],"sourcesContent":["import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-23.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-23.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=script&lang=js\"","<template>\n  <div>\n    <div class=\"container max-w-5xl my-4\">\n      <button\n        class=\"px-4 mr-2 text-xl leading-loose rounded-full\"\n        :class=\"view == 'map' ? 'bg-blue text-white' : 'bg-sky-light'\"\n        @click=\"view = 'map'\"\n      >\n        Map view\n      </button>\n      <button\n        class=\"px-4 text-xl leading-loose rounded-full\"\n        :class=\"\n          view == 'list' ? 'bg-blue text-white' : 'bg-sky-light hover:bg-sky'\n        \"\n        @click=\"view = 'list'\"\n      >\n        List view\n      </button>\n    </div>\n    <div\n      v-if=\"view == 'map'\"\n      class=\"relative flex flex-col overflow-hidden border-t lg:flex-row\"\n    >\n      <div class=\"relative flex-1 map-container\">\n        <l-map\n          ref=\"myMap\"\n          :zoom=\"zoom\"\n          :center=\"center\"\n          :options=\"{ attributionControl: false }\"\n        >\n          <l-control-attribution position=\"bottomleft\"></l-control-attribution>\n          <l-tile-layer :url=\"url\" :attribution=\"attribution\" />\n          <l-marker\n            :icon=\"group.neighbourhood_network ? orangeIcon : blueIcon\"\n            :ref=\"`${group.slug}-marker`\"\n            v-for=\"group in filteredList\"\n            :key=\"group.slug\"\n            @click=\"scrollTo(group.slug)\"\n            :lat-lng=\"[group.address.lat, group.address.lng]\"\n          >\n          </l-marker>\n        </l-map>\n      </div>\n      <div\n        class=\"top-0 bottom-0 right-0 overflow-y-auto shadow-2xl lg:absolute lg:w-1/3 lg:max-w-sm bg-sky-lightest map-sidebar bg-opacity-90\"\n      >\n        <div class=\"bg-blue-lightest\">\n          <div class=\"flex items-center gap-2 px-3 py-3\">\n            <label for=\"type-selector\">Show:</label>\n            <select class=\"flex-grow\" v-model=\"showing\" id=\"type-selector\">\n              <option value=\"neighbourhood_networks\"\n                >Neighbourhood Networks</option\n              >\n              <option value=\"all\">All groups</option>\n            </select>\n          </div>\n          <div class=\"flex flex-row bg-blue-lightest\">\n            <button\n              @click=\"filterTab = 'name'\"\n              class=\"px-4 py-3\"\n              :class=\"{ 'bg-blue-light text-white': filterTab == 'name' }\"\n            >\n              Filter by name\n            </button>\n            <button\n              @click=\"filterTab = 'postcode'\"\n              class=\"px-4 py-3\"\n              :class=\"{ 'bg-blue-light text-white': filterTab == 'postcode' }\"\n            >\n              Search by postcode\n            </button>\n          </div>\n          <div\n            v-if=\"filterTab == 'name'\"\n            class=\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"\n          >\n            <input\n              class=\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\"\n              type=\"text\"\n              aria-label=\"Filter results by name\"\n              v-model=\"search\"\n              placeholder=\"Search by name..\"\n            />\n            <button class=\"text-white\" @click=\"search = null\">Clear</button>\n          </div>\n          <div\n            v-if=\"filterTab == 'postcode'\"\n            class=\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"\n          >\n            <input\n              class=\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\"\n              type=\"text\"\n              aria-label=\"Filter results by name\"\n              v-model=\"postcode\"\n              placeholder=\"Enter postcode and press enter\"\n              @keyup.enter=\"convertPostcodeToLatLng\"\n            />\n            <button\n              v-if=\"!latLng\"\n              class=\"text-white\"\n              @click=\"convertPostcodeToLatLng\"\n            >\n              Search\n            </button>\n            <button\n              v-if=\"latLng\"\n              class=\"text-white\"\n              @click=\"latLng = postcode = null\"\n            >\n              Clear\n            </button>\n          </div>\n        </div>\n\n        <a\n          :ref=\"`${group.slug}-sidebar`\"\n          :href=\"group.link\"\n          :key=\"group.slug\"\n          class=\"block px-4 py-6 border-b border-blue-lightest hover:bg-sky-light\"\n          :class=\"{\n            'bg-sky-light ml-0 border-l-8 border-blue': selected == group.slug,\n          }\"\n          v-for=\"group in filteredList\"\n        >\n          <p\n            v-if=\"group.neighbourhood_network\"\n            class=\"inline-block -ml-1 px-2 pt-0.5 mb-1 text-sm font-normal rounded-md bg-orange-light\"\n          >\n            Neighbourhood Network\n          </p>\n          <h3\n            class=\"text-lg font-bold leading-tight\"\n            v-html=\"group.title.rendered\"\n          ></h3>\n\n          <div\n            class=\"text-sm\"\n            v-if=\"group.area_covered\"\n            v-html=\"group.area_covered\"\n          ></div>\n        </a>\n\n        <div class=\"p-4 rounded\" v-if=\"!filteredList.length\">\n          No groups to show you.\n        </div>\n      </div>\n    </div>\n\n    <!-- List view -->\n    <div v-else class=\"container max-w-5xl my-12\">\n      <div\n        class=\"flex flex-col gap-8 px-8 py-4 mb-6 lg:flex-row bg-blue-lightest\"\n      >\n        <div class=\"flex items-center flex-grow max-w-lg gap-4\">\n          <label for=\"type-selector\">Show:</label>\n          <select class=\"flex-grow\" v-model=\"showing\" id=\"type-selector\">\n            <option value=\"neighbourhood_networks\"\n              >Neighbourhood Networks</option\n            >\n            <option value=\"all\">All groups</option>\n          </select>\n        </div>\n        <div class=\"flex flex-row items-center flex-grow gap-2\">\n          <label for=\"list-search\">Search:</label>\n          <input\n            id=\"list-search\"\n            class=\"w-full max-w-lg px-3 py-3 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\"\n            type=\"text\"\n            v-model=\"search\"\n            placeholder=\"Search by name..\"\n          />\n        </div>\n      </div>\n      <a\n        :ref=\"`${group.slug}-sidebar`\"\n        :href=\"group.link\"\n        :key=\"group.slug\"\n        class=\"block py-8\"\n        v-for=\"group in getGroupsFilteredByType(groups)\"\n      >\n        <h3 class=\"text-xl font-bold\">\n          <span v-html=\"group.title.rendered\"></span>\n          <p\n            v-if=\"group.neighbourhood_network\"\n            class=\"inline-block px-2 pt-0.5 ml-3 text-base font-normal rounded-lg bg-blue-lightest\"\n          >\n            Neighbourhood network\n          </p>\n        </h3>\n\n        <div\n          class=\"text\"\n          v-if=\"group.area_covered\"\n          v-html=\"group.area_covered\"\n        ></div>\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport 'leaflet/dist/leaflet.css';\n\nimport L from 'leaflet';\nimport {\n  LMap,\n  LTileLayer,\n  LMarker,\n  LIconDefault,\n  LControlAttribution,\n} from 'vue2-leaflet';\nimport { latLng } from 'leaflet';\n\nexport default {\n  name: 'groupMap',\n  props: ['type'],\n  components: {\n    LControlAttribution,\n    LIconDefault,\n    LMap,\n    LTileLayer,\n    LMarker,\n  },\n  data() {\n    return {\n      showing: 'neighbourhood_networks',\n      filterTab: 'name',\n      latLng: null,\n      postcode: null,\n      view: 'map',\n      groups: [],\n      search: null,\n      selected: null,\n      imagePath: null,\n      zoom: 12,\n      center: latLng(53.7993475, -1.5032696),\n      blueIcon: L.icon({\n        iconUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon.png`,\n        iconRetinaUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon-2x.png`,\n        iconSize: [25, 41],\n        iconAnchor: [13, 41],\n      }),\n      orangeIcon: L.icon({\n        iconUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon-orange.png`,\n        iconRetinaUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon-orange-2x.png`,\n        iconSize: [25, 41],\n        iconAnchor: [13, 41],\n      }),\n      url:\n        'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png',\n      attribution:\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\n    };\n  },\n  watch: {\n    latLng: function() {\n      if (this.latLng && this.latLng.length) {\n        this.$refs.myMap.mapObject.flyTo(\n          latLng(this.latLng[0], this.latLng[1]),\n          14\n        );\n      } else {\n        this.$refs.myMap.mapObject.flyTo(this.center, this.zoom);\n      }\n      // zoom/pan map.\n      // if null, reset map zoom/pan\n    },\n  },\n  computed: {\n    filteredList() {\n      if (!this.groups) {\n        return null;\n      }\n\n      let groupsWithAddress = this.groups.filter(group => {\n        return group.address;\n      });\n\n      let groupsFilteredByType = this.getGroupsFilteredByType(\n        groupsWithAddress\n      );\n\n      if (this.filterTab == 'name' && this.search) {\n        return groupsFilteredByType.filter(group => {\n          return (\n            group.title.rendered\n              .toLowerCase()\n              .includes(this.search.toLowerCase()) ||\n            group.address.address\n              .toLowerCase()\n              .includes(this.search.toLowerCase())\n          );\n        });\n      } else if (this.filterTab == 'postcode' && this.postcode) {\n        return groupsFilteredByType\n          .map(entry => {\n            if (entry.latitude && entry.longitude) {\n              entry.distance = this.distanceFromUserLatLng(entry);\n            } else {\n              entry.distance == null;\n            }\n            return entry;\n          })\n          .sort((a, b) => {\n            return a.distance - b.distance;\n          });\n      } else {\n        return groupsFilteredByType;\n      }\n    },\n  },\n  mounted() {\n    this.imagePath = `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/`;\n    let groups = fetch(\n      `/wp-json/wp/v2/${this.type}?orderby=title&per_page=100&order=asc`\n    )\n      .then(response => response.json())\n      .then(data => (this.groups = data));\n  },\n  methods: {\n    getGroupsFilteredByType(groups) {\n      if (!groups && !this.groups) return null;\n\n      return groups.filter(group => {\n        if (this.showing == 'neighbourhood_networks') {\n          return group.neighbourhood_network;\n        } else {\n          return true;\n        }\n      });\n    },\n    scrollTo(slug) {\n      this.selected = slug;\n      this.$refs[`${slug}-sidebar`][0].scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n        inline: 'nearest',\n      });\n    },\n    convertPostcodeToLatLng: function() {\n      fetch(`//api.postcodes.io/postcodes/${this.postcode.split(' ').join('')}`)\n        .then(response => response.json())\n        .then(data => {\n          if (data.status == 200) {\n            this.latLng = [data.result.latitude, data.result.longitude];\n            this.error = null;\n            this.postcode = this.postcode.toUpperCase();\n          } else {\n            this.error = data.error;\n          }\n        });\n    },\n    distanceFromUserLatLng: function(entry) {\n      let distance = this.distance(\n        entry.address.lat,\n        entry.address.lng,\n        this.latLng[0],\n        this.latLng[1]\n      );\n      return Math.round(distance * 10) / 10;\n    },\n    distance(lat1, lon1, lat2, lon2) {\n      if (lat1 == lat2 && lon1 == lon2) {\n        return 0;\n      } else {\n        var radlat1 = (Math.PI * lat1) / 180;\n        var radlat2 = (Math.PI * lat2) / 180;\n        var theta = lon1 - lon2;\n        var radtheta = (Math.PI * theta) / 180;\n        var dist =\n          Math.sin(radlat1) * Math.sin(radlat2) +\n          Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n        if (dist > 1) {\n          dist = 1;\n        }\n        dist = Math.acos(dist);\n        dist = (dist * 180) / Math.PI;\n        dist = dist * 60 * 1.1515;\n        // dist = dist * 1.609344;\n        return dist;\n      }\n    },\n    clearPostcode: function() {\n      this.latLng = [];\n      this.postcode = null;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.map-container {\n  padding-top: 56.25%;\n  @media (orientation: portrait) {\n    padding-top: 100vw;\n  }\n}\n\n.map-sidebar {\n  z-index: 999;\n}\n\n.vue2leaflet-map {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n</style>\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/laravel-mix/node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map.vue?vue&type=style&index=0&id=5d1b4b1a&prod&lang=scss&scoped=true\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { render, staticRenderFns } from \"./map.vue?vue&type=template&id=5d1b4b1a&scoped=true\"\nimport script from \"./map.vue?vue&type=script&lang=js\"\nexport * from \"./map.vue?vue&type=script&lang=js\"\nimport style0 from \"./map.vue?vue&type=style&index=0&id=5d1b4b1a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d1b4b1a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"container max-w-5xl my-4\"},[_c('button',{staticClass:\"px-4 mr-2 text-xl leading-loose rounded-full\",class:_vm.view == 'map' ? 'bg-blue text-white' : 'bg-sky-light',on:{\"click\":function($event){_vm.view = 'map'}}},[_vm._v(\"\\n      Map view\\n    \")]),_vm._v(\" \"),_c('button',{staticClass:\"px-4 text-xl leading-loose rounded-full\",class:_vm.view == 'list' ? 'bg-blue text-white' : 'bg-sky-light hover:bg-sky',on:{\"click\":function($event){_vm.view = 'list'}}},[_vm._v(\"\\n      List view\\n    \")])]),_vm._v(\" \"),(_vm.view == 'map')?_c('div',{staticClass:\"relative flex flex-col overflow-hidden border-t lg:flex-row\"},[_c('div',{staticClass:\"relative flex-1 map-container\"},[_c('l-map',{ref:\"myMap\",attrs:{\"zoom\":_vm.zoom,\"center\":_vm.center,\"options\":{ attributionControl: false }}},[_c('l-control-attribution',{attrs:{\"position\":\"bottomleft\"}}),_vm._v(\" \"),_c('l-tile-layer',{attrs:{\"url\":_vm.url,\"attribution\":_vm.attribution}}),_vm._v(\" \"),_vm._l((_vm.filteredList),function(group){return _c('l-marker',{key:group.slug,ref:`${group.slug}-marker`,refInFor:true,attrs:{\"icon\":group.neighbourhood_network ? _vm.orangeIcon : _vm.blueIcon,\"lat-lng\":[group.address.lat, group.address.lng]},on:{\"click\":function($event){return _vm.scrollTo(group.slug)}}})})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"top-0 bottom-0 right-0 overflow-y-auto shadow-2xl lg:absolute lg:w-1/3 lg:max-w-sm bg-sky-lightest map-sidebar bg-opacity-90\"},[_c('div',{staticClass:\"bg-blue-lightest\"},[_c('div',{staticClass:\"flex items-center gap-2 px-3 py-3\"},[_c('label',{attrs:{\"for\":\"type-selector\"}},[_vm._v(\"Show:\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showing),expression:\"showing\"}],staticClass:\"flex-grow\",attrs:{\"id\":\"type-selector\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.showing=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"neighbourhood_networks\"}},[_vm._v(\"Neighbourhood Networks\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"all\"}},[_vm._v(\"All groups\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row bg-blue-lightest\"},[_c('button',{staticClass:\"px-4 py-3\",class:{ 'bg-blue-light text-white': _vm.filterTab == 'name' },on:{\"click\":function($event){_vm.filterTab = 'name'}}},[_vm._v(\"\\n            Filter by name\\n          \")]),_vm._v(\" \"),_c('button',{staticClass:\"px-4 py-3\",class:{ 'bg-blue-light text-white': _vm.filterTab == 'postcode' },on:{\"click\":function($event){_vm.filterTab = 'postcode'}}},[_vm._v(\"\\n            Search by postcode\\n          \")])]),_vm._v(\" \"),(_vm.filterTab == 'name')?_c('div',{staticClass:\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\",attrs:{\"type\":\"text\",\"aria-label\":\"Filter results by name\",\"placeholder\":\"Search by name..\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing)return;_vm.search=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"text-white\",on:{\"click\":function($event){_vm.search = null}}},[_vm._v(\"Clear\")])]):_vm._e(),_vm._v(\" \"),(_vm.filterTab == 'postcode')?_c('div',{staticClass:\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.postcode),expression:\"postcode\"}],staticClass:\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\",attrs:{\"type\":\"text\",\"aria-label\":\"Filter results by name\",\"placeholder\":\"Enter postcode and press enter\"},domProps:{\"value\":(_vm.postcode)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.convertPostcodeToLatLng.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.postcode=$event.target.value}}}),_vm._v(\" \"),(!_vm.latLng)?_c('button',{staticClass:\"text-white\",on:{\"click\":_vm.convertPostcodeToLatLng}},[_vm._v(\"\\n            Search\\n          \")]):_vm._e(),_vm._v(\" \"),(_vm.latLng)?_c('button',{staticClass:\"text-white\",on:{\"click\":function($event){_vm.latLng = _vm.postcode = null}}},[_vm._v(\"\\n            Clear\\n          \")]):_vm._e()]):_vm._e()]),_vm._v(\" \"),_vm._l((_vm.filteredList),function(group){return _c('a',{key:group.slug,ref:`${group.slug}-sidebar`,refInFor:true,staticClass:\"block px-4 py-6 border-b border-blue-lightest hover:bg-sky-light\",class:{\n          'bg-sky-light ml-0 border-l-8 border-blue': _vm.selected == group.slug,\n        },attrs:{\"href\":group.link}},[(group.neighbourhood_network)?_c('p',{staticClass:\"inline-block -ml-1 px-2 pt-0.5 mb-1 text-sm font-normal rounded-md bg-orange-light\"},[_vm._v(\"\\n          Neighbourhood Network\\n        \")]):_vm._e(),_vm._v(\" \"),_c('h3',{staticClass:\"text-lg font-bold leading-tight\",domProps:{\"innerHTML\":_vm._s(group.title.rendered)}}),_vm._v(\" \"),(group.area_covered)?_c('div',{staticClass:\"text-sm\",domProps:{\"innerHTML\":_vm._s(group.area_covered)}}):_vm._e()])}),_vm._v(\" \"),(!_vm.filteredList.length)?_c('div',{staticClass:\"p-4 rounded\"},[_vm._v(\"\\n        No groups to show you.\\n      \")]):_vm._e()],2)]):_c('div',{staticClass:\"container max-w-5xl my-12\"},[_c('div',{staticClass:\"flex flex-col gap-8 px-8 py-4 mb-6 lg:flex-row bg-blue-lightest\"},[_c('div',{staticClass:\"flex items-center flex-grow max-w-lg gap-4\"},[_c('label',{attrs:{\"for\":\"type-selector\"}},[_vm._v(\"Show:\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showing),expression:\"showing\"}],staticClass:\"flex-grow\",attrs:{\"id\":\"type-selector\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.showing=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"neighbourhood_networks\"}},[_vm._v(\"Neighbourhood Networks\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"all\"}},[_vm._v(\"All groups\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row items-center flex-grow gap-2\"},[_c('label',{attrs:{\"for\":\"list-search\"}},[_vm._v(\"Search:\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"w-full max-w-lg px-3 py-3 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\",attrs:{\"id\":\"list-search\",\"type\":\"text\",\"placeholder\":\"Search by name..\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing)return;_vm.search=$event.target.value}}})])]),_vm._v(\" \"),_vm._l((_vm.getGroupsFilteredByType(_vm.groups)),function(group){return _c('a',{key:group.slug,ref:`${group.slug}-sidebar`,refInFor:true,staticClass:\"block py-8\",attrs:{\"href\":group.link}},[_c('h3',{staticClass:\"text-xl font-bold\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(group.title.rendered)}}),_vm._v(\" \"),(group.neighbourhood_network)?_c('p',{staticClass:\"inline-block px-2 pt-0.5 ml-3 text-base font-normal rounded-lg bg-blue-lightest\"},[_vm._v(\"\\n          Neighbourhood network\\n        \")]):_vm._e()]),_vm._v(\" \"),(group.area_covered)?_c('div',{staticClass:\"text\",domProps:{\"innerHTML\":_vm._s(group.area_covered)}}):_vm._e()])})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-23.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./business-map.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-23.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./business-map.vue?vue&type=script&lang=js\"","<template>\n  <div>\n    <div class=\"container max-w-5xl my-4\">\n      <button\n        class=\"px-4 mr-2 text-xl leading-loose rounded-full\"\n        :class=\"view == 'map' ? 'bg-blue text-white' : 'bg-sky-light'\"\n        @click=\"view = 'map'\"\n      >\n        Map view\n      </button>\n      <button\n        class=\"px-4 text-xl leading-loose rounded-full\"\n        :class=\"\n          view == 'list' ? 'bg-blue text-white' : 'bg-sky-light hover:bg-sky'\n        \"\n        @click=\"view = 'list'\"\n      >\n        List view\n      </button>\n    </div>\n    <div\n      v-if=\"view == 'map'\"\n      class=\"relative flex flex-col overflow-hidden border-t lg:flex-row\"\n    >\n      <div class=\"relative flex-1 map-container\">\n        <l-map\n          ref=\"myMap\"\n          :zoom=\"zoom\"\n          :center=\"center\"\n          :options=\"{ attributionControl: false }\"\n        >\n          <l-control-attribution position=\"bottomleft\"></l-control-attribution>\n          <l-tile-layer :url=\"url\" :attribution=\"attribution\" />\n          <l-marker\n            :icon=\"group.neighbourhood_network ? orangeIcon : blueIcon\"\n            :ref=\"`${group.slug}-marker`\"\n            v-for=\"group in filteredList\"\n            :key=\"group.slug\"\n            @click=\"scrollTo(group.slug)\"\n            :lat-lng=\"[group.address.lat, group.address.lng]\"\n          >\n          </l-marker>\n        </l-map>\n      </div>\n      <div\n        class=\"top-0 bottom-0 right-0 overflow-y-auto shadow-2xl lg:absolute lg:w-1/3 lg:max-w-sm bg-sky-lightest map-sidebar bg-opacity-90\"\n      >\n        <div class=\"bg-blue-lightest\">\n          <div class=\"flex flex-row bg-blue-lightest\">\n            <button\n              @click=\"filterTab = 'name'\"\n              class=\"px-4 py-3\"\n              :class=\"{ 'bg-blue-light text-white': filterTab == 'name' }\"\n            >\n              Filter by name\n            </button>\n            <button\n              @click=\"filterTab = 'postcode'\"\n              class=\"px-4 py-3\"\n              :class=\"{ 'bg-blue-light text-white': filterTab == 'postcode' }\"\n            >\n              Search by postcode\n            </button>\n          </div>\n          <div\n            v-if=\"filterTab == 'name'\"\n            class=\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"\n          >\n            <input\n              class=\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\"\n              type=\"text\"\n              aria-label=\"Filter results by name\"\n              v-model=\"search\"\n              placeholder=\"Search by name..\"\n            />\n            <button class=\"text-white\" @click=\"search = null\">Clear</button>\n          </div>\n          <div\n            v-if=\"filterTab == 'postcode'\"\n            class=\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"\n          >\n            <input\n              class=\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\"\n              type=\"text\"\n              aria-label=\"Filter results by name\"\n              v-model=\"postcode\"\n              placeholder=\"Enter postcode and press enter\"\n              @keyup.enter=\"convertPostcodeToLatLng\"\n            />\n            <button\n              v-if=\"!latLng\"\n              class=\"text-white\"\n              @click=\"convertPostcodeToLatLng\"\n            >\n              Search\n            </button>\n            <button\n              v-if=\"latLng\"\n              class=\"text-white\"\n              @click=\"latLng = postcode = null\"\n            >\n              Clear\n            </button>\n          </div>\n        </div>\n\n        <a\n          :ref=\"`${group.slug}-sidebar`\"\n          target=\"_blank\"\n          :href=\"group.url\"\n          :key=\"group.slug\"\n          class=\"block px-4 py-6 border-b border-blue-lightest hover:bg-sky-light\"\n          :class=\"{\n            'bg-sky-light ml-0 border-l-8 border-blue': selected == group.slug,\n          }\"\n          v-for=\"group in filteredList\"\n        >\n          <h3\n            class=\"text-lg font-bold leading-tight\"\n            v-html=\"group.title.rendered\"\n          ></h3>\n          <p class=\"text-sm truncate\">\n            <span\n              class=\"inline-block px-3 mr-1 rounded-full bg-sky text-blue\"\n              v-if=\"group.area_covered\"\n              >{{ group.area_covered }}</span\n            >\n            {{ group.address.address }}\n          </p>\n        </a>\n\n        <div class=\"p-4 rounded\" v-if=\"!filteredList.length\">\n          No businesses to show you.\n        </div>\n      </div>\n    </div>\n\n    <!-- List view -->\n    <div v-else class=\"container max-w-5xl my-12\">\n      <div\n        class=\"flex flex-col gap-8 px-8 py-4 mb-6 lg:flex-row bg-blue-lightest\"\n      >\n        <div class=\"flex flex-row items-center flex-grow gap-2\">\n          <label for=\"list-search\">Search:</label>\n          <input\n            id=\"list-search\"\n            class=\"w-full max-w-lg px-3 py-3 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\"\n            type=\"text\"\n            v-model=\"search\"\n            placeholder=\"Search by name..\"\n          />\n        </div>\n      </div>\n      <a\n        target=\"_blank\"\n        :ref=\"`${group.slug}-sidebar`\"\n        :href=\"group.url\"\n        :key=\"group.slug\"\n        class=\"block py-8\"\n        v-for=\"group in filteredList\"\n      >\n        <h3 class=\"text-xl font-bold\">\n          <span v-html=\"group.title.rendered\"></span>\n        </h3>\n        <p class=\"text-sm truncate\">\n          <span\n            class=\"inline-block px-3 mr-1 rounded-full bg-sky text-blue\"\n            v-if=\"group.area_covered\"\n            >{{ group.area_covered }}</span\n          >\n          {{ group.address.address }}\n        </p>\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport 'leaflet/dist/leaflet.css';\n\nimport L from 'leaflet';\nimport {\n  LMap,\n  LTileLayer,\n  LMarker,\n  LIconDefault,\n  LControlAttribution,\n} from 'vue2-leaflet';\nimport { latLng } from 'leaflet';\n\nexport default {\n  name: 'groupMap',\n  props: ['type'],\n  components: {\n    LControlAttribution,\n    LIconDefault,\n    LMap,\n    LTileLayer,\n    LMarker,\n  },\n  data() {\n    return {\n      showing: 'neighbourhood_networks',\n      filterTab: 'name',\n      latLng: null,\n      postcode: null,\n      view: 'map',\n      groups: [],\n      search: null,\n      selected: null,\n      imagePath: null,\n      zoom: 12,\n      center: latLng(53.7993475, -1.5032696),\n      blueIcon: L.icon({\n        iconUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon.png`,\n        iconRetinaUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon-2x.png`,\n        iconSize: [25, 41],\n        iconAnchor: [13, 41],\n      }),\n      orangeIcon: L.icon({\n        iconUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon-orange.png`,\n        iconRetinaUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon-orange-2x.png`,\n        iconSize: [25, 41],\n        iconAnchor: [13, 41],\n      }),\n      url:\n        'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png',\n      attribution:\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\n    };\n  },\n  watch: {\n    latLng: function() {\n      if (this.latLng && this.latLng.length) {\n        this.$refs.myMap.mapObject.flyTo(\n          latLng(this.latLng[0], this.latLng[1]),\n          14\n        );\n      } else {\n        this.$refs.myMap.mapObject.flyTo(this.center, this.zoom);\n      }\n      // zoom/pan map.\n      // if null, reset map zoom/pan\n    },\n  },\n  computed: {\n    filteredList() {\n      if (!this.groups) {\n        return null;\n      }\n\n      let groupsWithAddress = this.groups.filter(group => {\n        return group.address;\n      });\n\n      if (this.filterTab == 'name' && this.search) {\n        return groupsWithAddress.filter(group => {\n          return (\n            group.title.rendered\n              .toLowerCase()\n              .includes(this.search.toLowerCase()) ||\n            group.address.address\n              .toLowerCase()\n              .includes(this.search.toLowerCase())\n          );\n        });\n      } else if (this.filterTab == 'postcode' && this.postcode) {\n        return groupsWithAddress\n          .map(entry => {\n            if (entry.latitude && entry.longitude) {\n              entry.distance = this.distanceFromUserLatLng(entry);\n            } else {\n              entry.distance == null;\n            }\n            return entry;\n          })\n          .sort((a, b) => {\n            return a.distance - b.distance;\n          });\n      } else {\n        return groupsWithAddress;\n      }\n    },\n  },\n  mounted() {\n    this.imagePath = `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/`;\n    let groups = fetch(\n      `/wp-json/wp/v2/business?orderby=title&per_page=100&order=asc${\n        this.type ? '&type=' + this.type : null\n      }`\n    )\n      .then(response => response.json())\n      .then(data => (this.groups = data));\n  },\n  methods: {\n    scrollTo(slug) {\n      this.selected = slug;\n      this.$refs[`${slug}-sidebar`][0].scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n        inline: 'nearest',\n      });\n    },\n    convertPostcodeToLatLng: function() {\n      fetch(`//api.postcodes.io/postcodes/${this.postcode.split(' ').join('')}`)\n        .then(response => response.json())\n        .then(data => {\n          if (data.status == 200) {\n            this.latLng = [data.result.latitude, data.result.longitude];\n            this.error = null;\n            this.postcode = this.postcode.toUpperCase();\n          } else {\n            this.error = data.error;\n          }\n        });\n    },\n    distanceFromUserLatLng: function(entry) {\n      let distance = this.distance(\n        entry.address.lat,\n        entry.address.lng,\n        this.latLng[0],\n        this.latLng[1]\n      );\n      return Math.round(distance * 10) / 10;\n    },\n    distance(lat1, lon1, lat2, lon2) {\n      if (lat1 == lat2 && lon1 == lon2) {\n        return 0;\n      } else {\n        var radlat1 = (Math.PI * lat1) / 180;\n        var radlat2 = (Math.PI * lat2) / 180;\n        var theta = lon1 - lon2;\n        var radtheta = (Math.PI * theta) / 180;\n        var dist =\n          Math.sin(radlat1) * Math.sin(radlat2) +\n          Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n        if (dist > 1) {\n          dist = 1;\n        }\n        dist = Math.acos(dist);\n        dist = (dist * 180) / Math.PI;\n        dist = dist * 60 * 1.1515;\n        // dist = dist * 1.609344;\n        return dist;\n      }\n    },\n    clearPostcode: function() {\n      this.latLng = [];\n      this.postcode = null;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.map-container {\n  padding-top: 56.25%;\n  @media (orientation: portrait) {\n    padding-top: 100vw;\n  }\n}\n\n.map-sidebar {\n  z-index: 999;\n}\n\n.vue2leaflet-map {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n</style>\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/laravel-mix/node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./business-map.vue?vue&type=style&index=0&id=142ffc3a&prod&lang=scss&scoped=true\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { render, staticRenderFns } from \"./business-map.vue?vue&type=template&id=142ffc3a&scoped=true\"\nimport script from \"./business-map.vue?vue&type=script&lang=js\"\nexport * from \"./business-map.vue?vue&type=script&lang=js\"\nimport style0 from \"./business-map.vue?vue&type=style&index=0&id=142ffc3a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"142ffc3a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"container max-w-5xl my-4\"},[_c('button',{staticClass:\"px-4 mr-2 text-xl leading-loose rounded-full\",class:_vm.view == 'map' ? 'bg-blue text-white' : 'bg-sky-light',on:{\"click\":function($event){_vm.view = 'map'}}},[_vm._v(\"\\n      Map view\\n    \")]),_vm._v(\" \"),_c('button',{staticClass:\"px-4 text-xl leading-loose rounded-full\",class:_vm.view == 'list' ? 'bg-blue text-white' : 'bg-sky-light hover:bg-sky',on:{\"click\":function($event){_vm.view = 'list'}}},[_vm._v(\"\\n      List view\\n    \")])]),_vm._v(\" \"),(_vm.view == 'map')?_c('div',{staticClass:\"relative flex flex-col overflow-hidden border-t lg:flex-row\"},[_c('div',{staticClass:\"relative flex-1 map-container\"},[_c('l-map',{ref:\"myMap\",attrs:{\"zoom\":_vm.zoom,\"center\":_vm.center,\"options\":{ attributionControl: false }}},[_c('l-control-attribution',{attrs:{\"position\":\"bottomleft\"}}),_vm._v(\" \"),_c('l-tile-layer',{attrs:{\"url\":_vm.url,\"attribution\":_vm.attribution}}),_vm._v(\" \"),_vm._l((_vm.filteredList),function(group){return _c('l-marker',{key:group.slug,ref:`${group.slug}-marker`,refInFor:true,attrs:{\"icon\":group.neighbourhood_network ? _vm.orangeIcon : _vm.blueIcon,\"lat-lng\":[group.address.lat, group.address.lng]},on:{\"click\":function($event){return _vm.scrollTo(group.slug)}}})})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"top-0 bottom-0 right-0 overflow-y-auto shadow-2xl lg:absolute lg:w-1/3 lg:max-w-sm bg-sky-lightest map-sidebar bg-opacity-90\"},[_c('div',{staticClass:\"bg-blue-lightest\"},[_c('div',{staticClass:\"flex flex-row bg-blue-lightest\"},[_c('button',{staticClass:\"px-4 py-3\",class:{ 'bg-blue-light text-white': _vm.filterTab == 'name' },on:{\"click\":function($event){_vm.filterTab = 'name'}}},[_vm._v(\"\\n            Filter by name\\n          \")]),_vm._v(\" \"),_c('button',{staticClass:\"px-4 py-3\",class:{ 'bg-blue-light text-white': _vm.filterTab == 'postcode' },on:{\"click\":function($event){_vm.filterTab = 'postcode'}}},[_vm._v(\"\\n            Search by postcode\\n          \")])]),_vm._v(\" \"),(_vm.filterTab == 'name')?_c('div',{staticClass:\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\",attrs:{\"type\":\"text\",\"aria-label\":\"Filter results by name\",\"placeholder\":\"Search by name..\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing)return;_vm.search=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"text-white\",on:{\"click\":function($event){_vm.search = null}}},[_vm._v(\"Clear\")])]):_vm._e(),_vm._v(\" \"),(_vm.filterTab == 'postcode')?_c('div',{staticClass:\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.postcode),expression:\"postcode\"}],staticClass:\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\",attrs:{\"type\":\"text\",\"aria-label\":\"Filter results by name\",\"placeholder\":\"Enter postcode and press enter\"},domProps:{\"value\":(_vm.postcode)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.convertPostcodeToLatLng.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.postcode=$event.target.value}}}),_vm._v(\" \"),(!_vm.latLng)?_c('button',{staticClass:\"text-white\",on:{\"click\":_vm.convertPostcodeToLatLng}},[_vm._v(\"\\n            Search\\n          \")]):_vm._e(),_vm._v(\" \"),(_vm.latLng)?_c('button',{staticClass:\"text-white\",on:{\"click\":function($event){_vm.latLng = _vm.postcode = null}}},[_vm._v(\"\\n            Clear\\n          \")]):_vm._e()]):_vm._e()]),_vm._v(\" \"),_vm._l((_vm.filteredList),function(group){return _c('a',{key:group.slug,ref:`${group.slug}-sidebar`,refInFor:true,staticClass:\"block px-4 py-6 border-b border-blue-lightest hover:bg-sky-light\",class:{\n          'bg-sky-light ml-0 border-l-8 border-blue': _vm.selected == group.slug,\n        },attrs:{\"target\":\"_blank\",\"href\":group.url}},[_c('h3',{staticClass:\"text-lg font-bold leading-tight\",domProps:{\"innerHTML\":_vm._s(group.title.rendered)}}),_vm._v(\" \"),_c('p',{staticClass:\"text-sm truncate\"},[(group.area_covered)?_c('span',{staticClass:\"inline-block px-3 mr-1 rounded-full bg-sky text-blue\"},[_vm._v(_vm._s(group.area_covered))]):_vm._e(),_vm._v(\"\\n          \"+_vm._s(group.address.address)+\"\\n        \")])])}),_vm._v(\" \"),(!_vm.filteredList.length)?_c('div',{staticClass:\"p-4 rounded\"},[_vm._v(\"\\n        No businesses to show you.\\n      \")]):_vm._e()],2)]):_c('div',{staticClass:\"container max-w-5xl my-12\"},[_c('div',{staticClass:\"flex flex-col gap-8 px-8 py-4 mb-6 lg:flex-row bg-blue-lightest\"},[_c('div',{staticClass:\"flex flex-row items-center flex-grow gap-2\"},[_c('label',{attrs:{\"for\":\"list-search\"}},[_vm._v(\"Search:\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"w-full max-w-lg px-3 py-3 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\",attrs:{\"id\":\"list-search\",\"type\":\"text\",\"placeholder\":\"Search by name..\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing)return;_vm.search=$event.target.value}}})])]),_vm._v(\" \"),_vm._l((_vm.filteredList),function(group){return _c('a',{key:group.slug,ref:`${group.slug}-sidebar`,refInFor:true,staticClass:\"block py-8\",attrs:{\"target\":\"_blank\",\"href\":group.url}},[_c('h3',{staticClass:\"text-xl font-bold\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(group.title.rendered)}})]),_vm._v(\" \"),_c('p',{staticClass:\"text-sm truncate\"},[(group.area_covered)?_c('span',{staticClass:\"inline-block px-3 mr-1 rounded-full bg-sky text-blue\"},[_vm._v(_vm._s(group.area_covered))]):_vm._e(),_vm._v(\"\\n        \"+_vm._s(group.address.address)+\"\\n      \")])])})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-23.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./localleeds-map.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use[0]!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-23.use[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./localleeds-map.vue?vue&type=script&lang=js\"","<template>\n  <div>\n    <div class=\"container max-w-5xl my-4\">\n      <button\n        class=\"px-4 mr-2 text-xl leading-loose rounded-full\"\n        :class=\"view == 'map' ? 'bg-blue text-white' : 'bg-sky-light'\"\n        @click=\"view = 'map'\"\n      >\n        Map view\n      </button>\n      <button\n        class=\"px-4 text-xl leading-loose rounded-full\"\n        :class=\"\n          view == 'list' ? 'bg-blue text-white' : 'bg-sky-light hover:bg-sky'\n        \"\n        @click=\"view = 'list'\"\n      >\n        List view\n      </button>\n    </div>\n    <div\n      v-if=\"view == 'map'\"\n      class=\"relative flex flex-col overflow-hidden border-t lg:flex-row\"\n    >\n      <div class=\"relative flex-1 map-container\">\n        <l-map\n          ref=\"myMap\"\n          :zoom=\"zoom\"\n          :center=\"center\"\n          :options=\"{ attributionControl: false }\"\n        >\n          <l-control-attribution position=\"bottomleft\"></l-control-attribution>\n          <l-tile-layer :url=\"url\" :attribution=\"attribution\" />\n          <l-marker\n            :icon=\"group.neighbourhood_network ? orangeIcon : blueIcon\"\n            :ref=\"`${group.id}-marker`\"\n            v-for=\"group in filteredList\"\n            :key=\"group.id\"\n            @click=\"scrollTo(group.id)\"\n            :lat-lng=\"[group.latitude, group.longitude]\"\n          >\n          </l-marker>\n        </l-map>\n      </div>\n      <div\n        class=\"top-0 bottom-0 right-0 overflow-y-auto shadow-2xl lg:absolute lg:w-1/3 lg:max-w-sm bg-sky-lightest map-sidebar bg-opacity-90\"\n      >\n        <div class=\"bg-blue-lightest\">\n          <div class=\"flex flex-row bg-blue-lightest\">\n            <button\n              @click=\"filterTab = 'name'\"\n              class=\"px-4 py-3\"\n              :class=\"{ 'bg-blue-light text-white': filterTab == 'name' }\"\n            >\n              Filter by name\n            </button>\n            <button\n              @click=\"filterTab = 'postcode'\"\n              class=\"px-4 py-3\"\n              :class=\"{ 'bg-blue-light text-white': filterTab == 'postcode' }\"\n            >\n              Search by postcode\n            </button>\n          </div>\n          <div\n            v-if=\"filterTab == 'name'\"\n            class=\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"\n          >\n            <input\n              class=\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\"\n              type=\"text\"\n              aria-label=\"Filter results by name\"\n              v-model=\"search\"\n              placeholder=\"Search by name..\"\n            />\n            <button class=\"text-white\" @click=\"search = null\">Clear</button>\n          </div>\n          <div\n            v-if=\"filterTab == 'postcode'\"\n            class=\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"\n          >\n            <input\n              class=\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\"\n              type=\"text\"\n              aria-label=\"Filter results by name\"\n              v-model=\"postcode\"\n              placeholder=\"Enter postcode and press enter\"\n              @keyup.enter=\"convertPostcodeToLatLng\"\n            />\n            <button\n              v-if=\"!latLng\"\n              class=\"text-white\"\n              @click=\"convertPostcodeToLatLng\"\n            >\n              Search\n            </button>\n            <button\n              v-if=\"latLng\"\n              class=\"text-white\"\n              @click=\"latLng = postcode = null\"\n            >\n              Clear\n            </button>\n          </div>\n        </div>\n\n        <a\n          :ref=\"`${group.id}-sidebar`\"\n          target=\"_blank\"\n          :href=\"group.url\"\n          :key=\"group.id\"\n          class=\"block px-4 py-6 border-b border-blue-lightest hover:bg-sky-light\"\n          :class=\"{\n            'bg-sky-light ml-0 border-l-8 border-blue': selected == group.id,\n          }\"\n          v-for=\"group in filteredList\"\n        >\n          <h3 class=\"text-lg font-bold leading-tight\" v-html=\"group.name\"></h3>\n          <p class=\"text-sm truncate\">\n            {{ group.organisation }}\n          </p>\n          <p\n            class=\"rounded-full bg-blue-lightest py-1 px-3 inline-block mt-2 text-xs\"\n            v-if=\"group.distance\"\n          >\n            {{ group.distance }} miles away\n          </p>\n        </a>\n\n        <div class=\"p-4 rounded\" v-if=\"!filteredList.length\">\n          No businesses to show you.\n        </div>\n      </div>\n    </div>\n\n    <!-- List view -->\n    <div v-else class=\"container max-w-5xl my-12\">\n      <div\n        class=\"flex flex-col gap-8 px-8 py-4 mb-6 lg:flex-row bg-blue-lightest\"\n      >\n        <div class=\"flex flex-row items-center flex-grow gap-2\">\n          <label for=\"list-search\">Search:</label>\n          <input\n            id=\"list-search\"\n            class=\"w-full max-w-lg px-3 py-3 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\"\n            type=\"text\"\n            v-model=\"search\"\n            placeholder=\"Search by name..\"\n          />\n        </div>\n      </div>\n      <a\n        target=\"_blank\"\n        :ref=\"`${group.id}-sidebar`\"\n        :href=\"group.url\"\n        :key=\"group.id\"\n        class=\"block py-8\"\n        v-for=\"group in filteredList\"\n      >\n        <h3 class=\"text-xl font-bold\">\n          <span v-html=\"group.name\"></span>\n        </h3>\n        <p class=\"text-sm truncate\">\n          {{ group.organisation }}\n        </p>\n      </a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport 'leaflet/dist/leaflet.css';\n\nimport L from 'leaflet';\nimport {\n  LMap,\n  LTileLayer,\n  LMarker,\n  LIconDefault,\n  LControlAttribution,\n} from 'vue2-leaflet';\nimport { latLng } from 'leaflet';\n\nexport default {\n  name: 'groupMap',\n  props: ['category'],\n  components: {\n    LControlAttribution,\n    LIconDefault,\n    LMap,\n    LTileLayer,\n    LMarker,\n  },\n  data() {\n    return {\n      showing: 'neighbourhood_networks',\n      filterTab: 'name',\n      latLng: null,\n      postcode: null,\n      view: 'map',\n      groups: [],\n      search: null,\n      selected: null,\n      imagePath: null,\n      zoom: 12,\n      center: latLng(53.7993475, -1.5032696),\n      blueIcon: L.icon({\n        iconUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon.png`,\n        iconRetinaUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon-2x.png`,\n        iconSize: [25, 41],\n        iconAnchor: [13, 41],\n      }),\n      orangeIcon: L.icon({\n        iconUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon-orange.png`,\n        iconRetinaUrl: `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/marker-icon-orange-2x.png`,\n        iconSize: [25, 41],\n        iconAnchor: [13, 41],\n      }),\n      url:\n        'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png',\n      attribution:\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',\n    };\n  },\n  watch: {\n    latLng: function() {\n      if (this.latLng && this.latLng.length) {\n        this.$refs.myMap.mapObject.flyTo(\n          latLng(this.latLng[0], this.latLng[1]),\n          14\n        );\n      } else {\n        this.$refs.myMap.mapObject.flyTo(this.center, this.zoom);\n      }\n      // zoom/pan map.\n      // if null, reset map zoom/pan\n    },\n  },\n  computed: {\n    filteredList() {\n      if (!this.groups) {\n        return null;\n      }\n\n      let groupsWithAddress = this.groups.filter(group => {\n        return group.latitude && group.longitude;\n      });\n\n      if (this.filterTab == 'name' && this.search) {\n        return groupsWithAddress.filter(group => {\n          return group.name.toLowerCase().includes(this.search.toLowerCase());\n        });\n      } else if (this.filterTab == 'postcode' && this.postcode && this.latLng) {\n        return groupsWithAddress\n          .map(entry => {\n            if (entry.latitude && entry.longitude) {\n              entry.distance = this.distanceFromUserLatLng(entry);\n            } else {\n              entry.distance == null;\n            }\n            return entry;\n          })\n          .sort((a, b) => {\n            return a.distance - b.distance;\n          });\n      } else {\n        return groupsWithAddress;\n      }\n    },\n  },\n  mounted() {\n    this.imagePath = `${window.directory_uri.stylesheet_directory_uri}/public/images/leaflet/`;\n    let groups = fetch(\n      `https://localleeds.org.uk/api/services/category/${this.category}/true`\n    )\n      .then(response => response.json())\n      .then(data => (this.groups = data));\n  },\n  methods: {\n    scrollTo(id) {\n      this.selected = id;\n      this.$refs[`${id}-sidebar`][0].scrollIntoView({\n        behavior: 'smooth',\n        block: 'center',\n        inline: 'nearest',\n      });\n    },\n    convertPostcodeToLatLng: function() {\n      fetch(`//api.postcodes.io/postcodes/${this.postcode.split(' ').join('')}`)\n        .then(response => response.json())\n        .then(data => {\n          if (data.status == 200) {\n            this.latLng = [data.result.latitude, data.result.longitude];\n            this.error = null;\n            this.postcode = this.postcode.toUpperCase();\n          } else {\n            this.error = data.error;\n          }\n        });\n    },\n    distanceFromUserLatLng: function(entry) {\n      console.log(this.latLng);\n      let distance = this.distance(\n        entry.latitude,\n        entry.longitude,\n        this.latLng[0],\n        this.latLng[1]\n      );\n      return Math.round(distance * 10) / 10;\n    },\n    distance(lat1, lon1, lat2, lon2) {\n      if (lat1 == lat2 && lon1 == lon2) {\n        return 0;\n      } else {\n        var radlat1 = (Math.PI * lat1) / 180;\n        var radlat2 = (Math.PI * lat2) / 180;\n        var theta = lon1 - lon2;\n        var radtheta = (Math.PI * theta) / 180;\n        var dist =\n          Math.sin(radlat1) * Math.sin(radlat2) +\n          Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n        if (dist > 1) {\n          dist = 1;\n        }\n        dist = Math.acos(dist);\n        dist = (dist * 180) / Math.PI;\n        dist = dist * 60 * 1.1515;\n        // dist = dist * 1.609344;\n        return dist;\n      }\n    },\n    clearPostcode: function() {\n      this.latLng = [];\n      this.postcode = null;\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.map-container {\n  padding-top: 56.25%;\n  @media (orientation: portrait) {\n    padding-top: 100vw;\n  }\n}\n\n.map-sidebar {\n  z-index: 999;\n}\n\n.vue2leaflet-map {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n</style>\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/laravel-mix/node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./localleeds-map.vue?vue&type=style&index=0&id=bc9ca632&prod&lang=scss&scoped=true\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { render, staticRenderFns } from \"./localleeds-map.vue?vue&type=template&id=bc9ca632&scoped=true\"\nimport script from \"./localleeds-map.vue?vue&type=script&lang=js\"\nexport * from \"./localleeds-map.vue?vue&type=script&lang=js\"\nimport style0 from \"./localleeds-map.vue?vue&type=style&index=0&id=bc9ca632&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bc9ca632\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"container max-w-5xl my-4\"},[_c('button',{staticClass:\"px-4 mr-2 text-xl leading-loose rounded-full\",class:_vm.view == 'map' ? 'bg-blue text-white' : 'bg-sky-light',on:{\"click\":function($event){_vm.view = 'map'}}},[_vm._v(\"\\n      Map view\\n    \")]),_vm._v(\" \"),_c('button',{staticClass:\"px-4 text-xl leading-loose rounded-full\",class:_vm.view == 'list' ? 'bg-blue text-white' : 'bg-sky-light hover:bg-sky',on:{\"click\":function($event){_vm.view = 'list'}}},[_vm._v(\"\\n      List view\\n    \")])]),_vm._v(\" \"),(_vm.view == 'map')?_c('div',{staticClass:\"relative flex flex-col overflow-hidden border-t lg:flex-row\"},[_c('div',{staticClass:\"relative flex-1 map-container\"},[_c('l-map',{ref:\"myMap\",attrs:{\"zoom\":_vm.zoom,\"center\":_vm.center,\"options\":{ attributionControl: false }}},[_c('l-control-attribution',{attrs:{\"position\":\"bottomleft\"}}),_vm._v(\" \"),_c('l-tile-layer',{attrs:{\"url\":_vm.url,\"attribution\":_vm.attribution}}),_vm._v(\" \"),_vm._l((_vm.filteredList),function(group){return _c('l-marker',{key:group.id,ref:`${group.id}-marker`,refInFor:true,attrs:{\"icon\":group.neighbourhood_network ? _vm.orangeIcon : _vm.blueIcon,\"lat-lng\":[group.latitude, group.longitude]},on:{\"click\":function($event){return _vm.scrollTo(group.id)}}})})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"top-0 bottom-0 right-0 overflow-y-auto shadow-2xl lg:absolute lg:w-1/3 lg:max-w-sm bg-sky-lightest map-sidebar bg-opacity-90\"},[_c('div',{staticClass:\"bg-blue-lightest\"},[_c('div',{staticClass:\"flex flex-row bg-blue-lightest\"},[_c('button',{staticClass:\"px-4 py-3\",class:{ 'bg-blue-light text-white': _vm.filterTab == 'name' },on:{\"click\":function($event){_vm.filterTab = 'name'}}},[_vm._v(\"\\n            Filter by name\\n          \")]),_vm._v(\" \"),_c('button',{staticClass:\"px-4 py-3\",class:{ 'bg-blue-light text-white': _vm.filterTab == 'postcode' },on:{\"click\":function($event){_vm.filterTab = 'postcode'}}},[_vm._v(\"\\n            Search by postcode\\n          \")])]),_vm._v(\" \"),(_vm.filterTab == 'name')?_c('div',{staticClass:\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\",attrs:{\"type\":\"text\",\"aria-label\":\"Filter results by name\",\"placeholder\":\"Search by name..\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing)return;_vm.search=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"text-white\",on:{\"click\":function($event){_vm.search = null}}},[_vm._v(\"Clear\")])]):_vm._e(),_vm._v(\" \"),(_vm.filterTab == 'postcode')?_c('div',{staticClass:\"flex flex-row items-center gap-2 px-3 py-3 bg-blue-light\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.postcode),expression:\"postcode\"}],staticClass:\"w-full px-3 py-2 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\",attrs:{\"type\":\"text\",\"aria-label\":\"Filter results by name\",\"placeholder\":\"Enter postcode and press enter\"},domProps:{\"value\":(_vm.postcode)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.convertPostcodeToLatLng.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.postcode=$event.target.value}}}),_vm._v(\" \"),(!_vm.latLng)?_c('button',{staticClass:\"text-white\",on:{\"click\":_vm.convertPostcodeToLatLng}},[_vm._v(\"\\n            Search\\n          \")]):_vm._e(),_vm._v(\" \"),(_vm.latLng)?_c('button',{staticClass:\"text-white\",on:{\"click\":function($event){_vm.latLng = _vm.postcode = null}}},[_vm._v(\"\\n            Clear\\n          \")]):_vm._e()]):_vm._e()]),_vm._v(\" \"),_vm._l((_vm.filteredList),function(group){return _c('a',{key:group.id,ref:`${group.id}-sidebar`,refInFor:true,staticClass:\"block px-4 py-6 border-b border-blue-lightest hover:bg-sky-light\",class:{\n          'bg-sky-light ml-0 border-l-8 border-blue': _vm.selected == group.id,\n        },attrs:{\"target\":\"_blank\",\"href\":group.url}},[_c('h3',{staticClass:\"text-lg font-bold leading-tight\",domProps:{\"innerHTML\":_vm._s(group.name)}}),_vm._v(\" \"),_c('p',{staticClass:\"text-sm truncate\"},[_vm._v(\"\\n          \"+_vm._s(group.organisation)+\"\\n        \")]),_vm._v(\" \"),(group.distance)?_c('p',{staticClass:\"rounded-full bg-blue-lightest py-1 px-3 inline-block mt-2 text-xs\"},[_vm._v(\"\\n          \"+_vm._s(group.distance)+\" miles away\\n        \")]):_vm._e()])}),_vm._v(\" \"),(!_vm.filteredList.length)?_c('div',{staticClass:\"p-4 rounded\"},[_vm._v(\"\\n        No businesses to show you.\\n      \")]):_vm._e()],2)]):_c('div',{staticClass:\"container max-w-5xl my-12\"},[_c('div',{staticClass:\"flex flex-col gap-8 px-8 py-4 mb-6 lg:flex-row bg-blue-lightest\"},[_c('div',{staticClass:\"flex flex-row items-center flex-grow gap-2\"},[_c('label',{attrs:{\"for\":\"list-search\"}},[_vm._v(\"Search:\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],staticClass:\"w-full max-w-lg px-3 py-3 leading-tight text-gray-700 border rounded-full shadow appearance-none focus:outline-none focus:shadow-outline\",attrs:{\"id\":\"list-search\",\"type\":\"text\",\"placeholder\":\"Search by name..\"},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing)return;_vm.search=$event.target.value}}})])]),_vm._v(\" \"),_vm._l((_vm.filteredList),function(group){return _c('a',{key:group.id,ref:`${group.id}-sidebar`,refInFor:true,staticClass:\"block py-8\",attrs:{\"target\":\"_blank\",\"href\":group.url}},[_c('h3',{staticClass:\"text-xl font-bold\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(group.name)}})]),_vm._v(\" \"),_c('p',{staticClass:\"text-sm truncate\"},[_vm._v(\"\\n        \"+_vm._s(group.organisation)+\"\\n      \")])])})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable no-unused-vars */\n\nimport \"./gap-polyfill\";\nimport peopleBlocks from \"./people-blocks\";\n\nimport Vue from \"vue\";\nimport groupMap from \"./components/map.vue\";\nimport businessMap from \"./components/business-map.vue\";\nimport localleedsMap from \"./components/localleeds-map.vue\";\n\nVue.component(\"group-map\", groupMap);\nVue.component(\"business-map\", businessMap);\nVue.component(\"localleeds-map\", localleedsMap);\n\nvar vm = new Vue({\n  el: \"#app\",\n});\n\ndocument.getElementById(\"main-menu-button\").addEventListener(\"click\", (e) => {\n  e.currentTarget.innerText =\n    e.currentTarget.innerText == \"Menu\" ? \"Close menu\" : \"Menu\";\n  document.body.scrollTop = 0;\n  document.body.classList.toggle(\"overflow-hidden\");\n  document.getElementById(\"main-menu\").classList.toggle(\"-translate-x-full\");\n  // document.getElementById('main-menu').classList.toggle('left-0');\n  document.getElementById(\"main-menu-container\").scrollTop = 0;\n});\n\npeopleBlocks();\n","export default function () {\n  const persons = document.querySelectorAll(\".wp-block-person\");\n\n  persons.forEach((person) => {\n    console.log(person);\n    let summary = person.querySelector(\".wp-block-columns\");\n    let details = person.querySelector(\".person-details\");\n    summary.setAttribute(\"aria-expanded\", false);\n    details.hidden = true;\n\n    summary.addEventListener(\"click\", function () {\n      let expanded = summary.getAttribute(\"aria-expanded\") === \"true\" || false;\n\n      summary.setAttribute(\"aria-expanded\", !expanded);\n\n      if (!expanded) {\n        details.removeAttribute(\"hidden\");\n      } else {\n        details.setAttribute(\"hidden\", true);\n      }\n    });\n  });\n}\n","((\n  d,\n  c = d.createElement('b').style,\n  a = (c.gap = 0),\n  polyfillList = new WeakMap(),\n  ungapful = /^(normal|0px)+$/,\n  polyfillNode = (element) => {\n    if (polyfillList.has(element)) return;\n    polyfillList.set(element, true);\n    if (element.shadowRoot) return;\n    const ecss = getComputedStyle(element);\n    if (\n      /^(inline-)?flex$/.test(ecss.display) &&\n      !ungapful.test(ecss.rowGap + ecss.columnGap)\n    ) {\n      const shadowRoot = element.attachShadow({ mode: 'open' });\n      const shadowEcss = shadowRoot.appendChild(d.createElement('style'));\n      const shadowSlot = shadowRoot.appendChild(d.createElement('slot'));\n      const onFrameSkip = () => {\n        shadowEcss.textContent = `::slotted(*){margin:calc(${ecss.rowGap}/2) calc(${ecss.columnGap}/2)}slot{display:inherit;flex-direction:inherit;flex-wrap:inherit;margin:calc(${ecss.rowGap}/-2) calc(${ecss.columnGap}/-2);}`;\n        requestAnimationFrame(requestAnimationFrame.bind(null, onFrameSkip));\n      };\n      onFrameSkip();\n    }\n  },\n  polyfillInit = () => {\n    Array.from(d.all, polyfillNode);\n    let mo = new MutationObserver((records) => {\n      for (const { addedNodes } of records) {\n        for (const addedNode of addedNodes) {\n          if (addedNode.nodeType === 1) {\n            polyfillNode(addedNode);\n          }\n        }\n      }\n    });\n    mo.observe(d, { childList: true, subtree: true });\n  }\n) => c.gap || polyfillInit())(document);\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/laravel-mix/node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/laravel-mix/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".map-container[data-v-142ffc3a]{padding-top:56.25%}@media (orientation:portrait){.map-container[data-v-142ffc3a]{padding-top:100vw}}.map-sidebar[data-v-142ffc3a]{z-index:999}.vue2leaflet-map[data-v-142ffc3a]{bottom:0;left:0;position:absolute;right:0;top:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./resources/scripts/components/business-map.vue\"],\"names\":[],\"mappings\":\"AACA,gCACE,kBAAF,CACE,8BAFF,gCAGI,iBAEF,CACF,CACA,8BACE,WAEF,CACA,kCAKE,QAAA,CAFA,MAAA,CAFA,iBAAA,CAGA,OAAA,CAFA,KAKF\",\"sourcesContent\":[\"\\n.map-container {\\n  padding-top: 56.25%;\\n  @media (orientation: portrait) {\\n    padding-top: 100vw;\\n  }\\n}\\n\\n.map-sidebar {\\n  z-index: 999;\\n}\\n\\n.vue2leaflet-map {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/laravel-mix/node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/laravel-mix/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".map-container[data-v-bc9ca632]{padding-top:56.25%}@media (orientation:portrait){.map-container[data-v-bc9ca632]{padding-top:100vw}}.map-sidebar[data-v-bc9ca632]{z-index:999}.vue2leaflet-map[data-v-bc9ca632]{bottom:0;left:0;position:absolute;right:0;top:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./resources/scripts/components/localleeds-map.vue\"],\"names\":[],\"mappings\":\"AACA,gCACE,kBAAF,CACE,8BAFF,gCAGI,iBAEF,CACF,CACA,8BACE,WAEF,CACA,kCAKE,QAAA,CAFA,MAAA,CAFA,iBAAA,CAGA,OAAA,CAFA,KAKF\",\"sourcesContent\":[\"\\n.map-container {\\n  padding-top: 56.25%;\\n  @media (orientation: portrait) {\\n    padding-top: 100vw;\\n  }\\n}\\n\\n.map-sidebar {\\n  z-index: 999;\\n}\\n\\n.vue2leaflet-map {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/laravel-mix/node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/laravel-mix/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".map-container[data-v-5d1b4b1a]{padding-top:56.25%}@media (orientation:portrait){.map-container[data-v-5d1b4b1a]{padding-top:100vw}}.map-sidebar[data-v-5d1b4b1a]{z-index:999}.vue2leaflet-map[data-v-5d1b4b1a]{bottom:0;left:0;position:absolute;right:0;top:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./resources/scripts/components/map.vue\"],\"names\":[],\"mappings\":\"AACA,gCACE,kBAAF,CACE,8BAFF,gCAGI,iBAEF,CACF,CACA,8BACE,WAEF,CACA,kCAKE,QAAA,CAFA,MAAA,CAFA,iBAAA,CAGA,OAAA,CAFA,KAKF\",\"sourcesContent\":[\"\\n.map-container {\\n  padding-top: 56.25%;\\n  @media (orientation: portrait) {\\n    padding-top: 100vw;\\n  }\\n}\\n\\n.map-sidebar {\\n  z-index: 999;\\n}\\n\\n.vue2leaflet-map {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["name","props","components","LControlAttribution","LIconDefault","LMap","LTileLayer","LMarker","data","showing","filterTab","latLng","postcode","view","groups","search","selected","imagePath","zoom","center","_latLng","blueIcon","L","iconUrl","concat","window","directory_uri","stylesheet_directory_uri","iconRetinaUrl","iconSize","iconAnchor","orangeIcon","url","attribution","watch","length","$refs","myMap","mapObject","flyTo","computed","filteredList","_this","groupsWithAddress","filter","group","address","groupsFilteredByType","getGroupsFilteredByType","title","rendered","toLowerCase","includes","map","entry","latitude","longitude","distance","distanceFromUserLatLng","sort","a","b","mounted","_this2","fetch","type","then","response","json","methods","_this3","neighbourhood_network","scrollTo","slug","scrollIntoView","behavior","block","inline","convertPostcodeToLatLng","_this4","split","join","status","result","error","toUpperCase","lat","lng","Math","round","lat1","lon1","lat2","lon2","radlat1","PI","radlat2","theta","radtheta","dist","sin","cos","acos","clearPostcode","options","locals","component","_vm","this","_c","_self","staticClass","class","on","$event","_v","ref","attrs","attributionControl","_l","key","refInFor","directives","rawName","value","expression","$$selectedVal","Array","prototype","call","target","o","_value","multiple","domProps","composing","_e","indexOf","_k","keyCode","apply","arguments","link","_s","area_covered","category","id","console","log","organisation","Vue","groupMap","businessMap","localleedsMap","el","document","getElementById","addEventListener","e","currentTarget","innerText","body","scrollTop","classList","toggle","querySelectorAll","forEach","person","summary","querySelector","details","setAttribute","hidden","expanded","getAttribute","removeAttribute","d","c","undefined","createElement","style","polyfillList","gap","WeakMap","ungapful","polyfillNode","element","has","set","shadowRoot","ecss","getComputedStyle","test","display","rowGap","columnGap","attachShadow","mode","shadowEcss","appendChild","_onFrameSkip","textContent","requestAnimationFrame","bind","polyfillInit","from","all","MutationObserver","records","_step","_iterator","_createForOfIteratorHelper","s","n","done","_step2","_iterator2","addedNodes","addedNode","nodeType","err","f","observe","childList","subtree","___CSS_LOADER_EXPORT___","push","module"],"sourceRoot":""}